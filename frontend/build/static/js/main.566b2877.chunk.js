(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{74:function(e,t,s){},75:function(e,t,s){},82:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s.n(c),n=s(23),r=s.n(n),i=(s(74),s(6)),l=(s(75),s(60)),o=s(66),j=s(64),d=s(59),m=s(63),b=s(62),x=s(55),h=s(7),O=s(11),u=s(1);function p(e){return Object(u.jsx)(O.c,{onClick:function(){document.querySelector("div.dropdown-menu").classList.remove("show")},className:e.class,to:"/search/".concat(e.field,"/").concat(e.searchTerm),children:e.text})}function g(e){var t=e.genres,s=Object(c.useRef)(),a=Object(h.f)();function n(){var e=s.current.value;e?(a("/search/term/"+e),s.current.value=""):alert("Search term is missing"),console.log(s.current.value)}return Object(u.jsx)(l.a,{expand:"md",bg:"dark",variant:"dark",sticky:"top",children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(O.c,{className:"navbar navbar-brand",to:"/",children:"mkFLIX"}),Object(u.jsx)(l.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(u.jsxs)(l.a.Collapse,{id:"responsive-navbar-nav",children:[Object(u.jsxs)(j.a,{className:"me-auto",children:[Object(u.jsx)(d.a,{title:"Movies\xa0",id:"navbarScrollingDropdown",children:["popular","top-rated","on-the-air"].map((function(e,t){return Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(O.c,{onClick:function(){return document.querySelector("div.dropdown-menu").classList.remove("show")},className:"dropdown-item nav-link",to:"/search/movie/".concat(e),children:e})},t)}))}),Object(u.jsx)(d.a,{title:"TV Shows\xa0",id:"navbarScrollingDropdown",className:"col-md-5 col-5",children:["popular","top-rated","on-the-air"].map((function(e,t){return Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(O.c,{onClick:function(){return document.querySelector("div.dropdown-menu").classList.remove("show")},className:"dropdown-item nav-link",to:"/search/series/".concat(e),children:e})},t)}))}),Object(u.jsx)(d.a,{title:"Genres\xa0",id:"navbarScrollingDropdown",className:" col-12",children:Object(u.jsx)("div",{className:"row dropdown-bg g-0",children:t.map((function(e,t){return Object(u.jsx)("div",{className:"col-4",children:Object(u.jsx)(p,{class:"dropdown-item nav-link",field:"genres",searchTerm:e,text:e})},t)}))})})]}),Object(u.jsxs)(j.a,{className:"ms-auto",children:[Object(u.jsxs)(m.a,{className:"d-flex",onSubmit:function(e){e.preventDefault(),n()},children:[Object(u.jsxs)(b.a,{children:[Object(u.jsx)(x.a,{id:"inlineFormInputGroup",ref:s,placeholder:"Search",className:"dropdown-bg"}),Object(u.jsx)(b.a.Text,{className:"search_btn",onClick:n,children:"\ud83d\udd0e"})]}),Object(u.jsx)(m.a.Label,{htmlFor:"inlineFormInputGroup",visuallyHidden:!0,children:"Search"})]}),Object(u.jsx)("a",{className:"btn btn-outline-info mx-2 nav_link_color small mb-2 mb-sm-0",children:"Sign-in"}),Object(u.jsx)("a",{className:"btn btn-info mx-2 text-light  register_btn",children:"Register"})]})]})]})})}function v(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{genres:e.genres}),e.children]})}var f=s(15),N=s(24),w=s.p+"static/media/PlaceholderImage.5ba1fe9e.svg";function y(e){return Object(u.jsxs)(N.a,{children:[Object(u.jsx)(f.a,{as:N.a.Img,src:w,animation:"wave"}),Object(u.jsx)(f.a,{as:N.a.Title,animation:"wave",children:Object(u.jsx)(f.a,{xs:12,size:"xl"})}),Object(u.jsxs)(N.a.Body,{children:[Object(u.jsx)(f.a,{as:N.a.Title,animation:"wave",children:Object(u.jsx)(f.a,{xs:6})}),Object(u.jsxs)(f.a,{as:N.a.Text,animation:"wave",children:[Object(u.jsx)(f.a,{xs:7})," ",Object(u.jsx)(f.a,{xs:4})," ",Object(u.jsx)(f.a,{xs:4})," ",Object(u.jsx)(f.a,{xs:6})," ",Object(u.jsx)(f.a,{xs:8})]})]})]},e.id)}function _(e){var t=e.movie;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:e.class+" pointer",style:{backgroundImage:"url(".concat(t.poster||w,")")},children:[Object(u.jsxs)("div",{className:"movie_inset d-flex align-items-start flex-column bd-highlight mb-3 text-light px-2",children:[Object(u.jsxs)("p",{className:"text-light small",children:[Object(u.jsx)("span",{className:"text-warning",children:"\u2605"})," ",t.imdb.rating,"/10 (",t.imdb.votes.toLocaleString()," votes)"]}),Object(u.jsxs)("p",{className:"small text-light mb-2",children:["RUNTIME: ",t.runtime," mins"]}),Object(u.jsx)(O.b,{to:"/movie/".concat(t.id),className:"mt-auto btn btn-sm btn-outline-info p-0 m-0 w-100 mb-2 text-light",children:"Full Info"})]}),e.search?"":Object(u.jsx)("div",{className:"w-100 mb-5",children:Object(u.jsxs)("p",{className:"small p-0 m-0 text-light",children:[t.title," (",t.year,")"]})})]}),e.search?Object(u.jsx)("div",{className:"w-100 mb-5",children:Object(u.jsxs)("p",{className:"small p-0 m-0 text-light",children:[t.title," (",t.year,")"]})}):""]})}function k(e){var t=e.movies;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"scroller-wrapper bg-body",children:Object(u.jsx)("nav",{id:e.id,className:"nav nav-underline ","aria-label":"Secondary navigation",children:t.length>0?t.map((function(e){return Object(u.jsx)(_,{movie:e,class:"movie_card mb-2 col-3 mx-3",search:!1},e.id)})):Array.from({length:8}).map((function(e,t){return Object(u.jsx)("div",{className:"movie_card mb-2 col-3 mx-3",children:Object(u.jsx)(y,{})},t)}))})}),Object(u.jsx)("hr",{className:"scroller-divider"})]})}function S(e){var t=Object(c.useRef)(),s=Object(c.useRef)();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{ref:s,"data-parent_id":e.parent_id,onClick:function(){var e=document.getElementById(s.current.dataset.parent_id);e.scrollLeft-=200,0===e.scrollLeft?s.current.classList.add("text-muted"):s.current.classList.add("text-light")},id:"test",className:"display-6 pe-3 fw-bold pointer scroller_btn text-muted",children:"\u2039"}),Object(u.jsx)("span",{ref:t,"data-parent_id":e.parent_id,onClick:function(){document.getElementById(t.current.dataset.parent_id).scrollLeft+=200,s.current.classList.remove("text-muted")},className:"display-6 fw-bold pointer scroller_btn1",children:"\u203a"})]})}function T(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("h3",{className:"bg-transparent text-light ps-3 mb-5 pointer",children:[Object(u.jsxs)(O.c,{className:"text-light text-decoration-none",to:e.link,children:[e.title,"  ",Object(u.jsx)("span",{className:"display-6 mt-3",children:"\u203a"})]}),Object(u.jsx)("span",{className:"float-end",children:Object(u.jsx)(S,{parent_id:e.parent_id})})]})})}function F(e){var t=e.movies;return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(T,{parent_id:e.id,title:e.title,link:e.link}),Object(u.jsx)(k,{id:e.id,movies:t})]})}function I(e){var t={};return e.image&&(console.log("image ",e.image),t={backgroundImage:"url(".concat(e.image,")"),backgroundRepeat:"no repeat",backgroundPosition:"top center",backgroundSize:"cover"}),Object(u.jsx)("div",{className:"jumbo-hero",style:t,children:Object(u.jsx)("div",{className:"text-light",children:e.title})})}function L(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{className:"fw-light",children:"Find Movies & TV Shows"}),Object(u.jsx)("h4",{className:"text-light",children:"Browse and Read all about your favorite movies & series for free!"}),Object(u.jsx)("span",{className:"btn btn-outline-info nav_link_color small mb-2 mb-sm-0",children:"Sign-in to comment"})]})}function R(e){var t=e.movies;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(I,{title:Object(u.jsx)(L,{})}),Object(u.jsxs)("div",{className:"main-bg ",children:[Object(u.jsx)(F,{id:"popular",title:"Popular",link:"/search/movie/popular",movies:t}),Object(u.jsx)(F,{id:"top_rated",title:"Top rated",link:"/search/movie/top-rated",movies:t}),Object(u.jsx)(F,{id:"on_the_air",title:"On the air",link:"/search/movie/on-the-air",movies:t}),Object(u.jsx)(F,{id:"popular",title:"TV Popular",link:"/search/series/popular",movies:t}),Object(u.jsx)(F,{id:"top_rated",title:"TV Top rated",link:"/search/series/top-rated",movies:t}),Object(u.jsx)(F,{id:"on_the_air",title:"TV On the air",link:"/search/series/on-the-air",movies:t})]})]})}function C(e){return Object(u.jsxs)("h1",{children:['Results for "',e.searchTerm,'"']})}function E(e){var t=e.movies;return Object(u.jsx)("div",{className:"container ",children:Object(u.jsx)("div",{className:"row row-cols-2 row-cols-md-4 row-cols-lg-6 g-2 ",children:t.length>0?t.map((function(e){return Object(u.jsx)("div",{className:"px-3",children:Object(u.jsx)(_,{movie:e,class:"search_card col",search:!0})},e.id)})):Array.from({length:8}).map((function(e,t){return Object(u.jsx)("div",{className:"search_card col",children:Object(u.jsx)(y,{})},t)}))})})}function B(){var e=Object(h.g)(),t=Object(c.useState)([]),s=Object(i.a)(t,2),a=s[0],n=s[1];return Object(c.useEffect)((function(){n([]),fetch("/api/search/"+e.field+"/"+e.term).then((function(e){if(200===e.status)return e.json()})).then((function(e){n(e.movies)}))}),[e]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(I,{title:Object(u.jsx)(C,{searchTerm:e.field+" : "+e.term})}),Object(u.jsx)("div",{className:"main-bg pb-5",children:Object(u.jsx)(E,{movies:a})}),Object(u.jsx)("div",{className:"main-bg"})]})}function M(e){var t=parseInt(e.rating);return Object(u.jsx)(u.Fragment,{children:Array.from({length:10}).map((function(e,s){return s+1<=t?Object(u.jsx)("span",{className:"text-warning fs-5",children:"\u2605"},s):Object(u.jsx)("span",{className:"text-light fs-5",children:"\u2606"},s)}))})}function D(e){var t=e.movie;return Object(u.jsxs)("div",{className:"lighter_bg px-3 rounded-3 opacity-75 py-2",children:[Object(u.jsxs)("h1",{className:"fw-light",children:[t.title," (",t.year,")"]}),Object(u.jsxs)("h4",{className:"text-light",children:[Object(u.jsx)(M,{rating:t.imdb.rating})," ",Object(u.jsx)("br",{}),t.imdb.rating,"/10"]}),Object(u.jsx)("p",{className:"fst-italic",children:t.plot})]})}function G(e){var t=e.field,s=e.array;return Object(u.jsx)(u.Fragment,{children:s.map((function(e,c){return Object(u.jsxs)("span",{children:[Object(u.jsx)(O.c,{className:"text-info",to:"/search/".concat(t,"/").concat(e),children:e}),c+1===s.length?"":", ","    "]},c)}))})}function P(){var e=Object(h.g)(),t=Object(c.useState)({}),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)([]),l=Object(i.a)(r,2),o=l[0],j=l[1],d=Object(c.useState)(!0),m=Object(i.a)(d,2),b=m[0],x=m[1];return Object(c.useEffect)((function(){x(!0),fetch("/api/movie/"+e.movieId).then((function(e){if(200===e.status)return e.json()})).then((function(e){n(e.movie),j(e.comments),console.log(e.movie),x(!1)}))}),[e.movieId]),b?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(I,{title:Object(u.jsxs)("h1",{children:["Movie:",Object(u.jsx)(f.a,{as:N.a.Title,animation:"wave",children:Object(u.jsx)(f.a,{xs:6})})]})}),Object(u.jsx)("div",{className:"main-bg "})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(I,{title:Object(u.jsx)(D,{movie:a}),image:a.poster}),Object(u.jsx)("div",{className:"main-bg ",children:Object(u.jsxs)("div",{className:"container pt-5",children:[Object(u.jsx)("div",{className:"card  mb-3 dark_bg text-muted p-4",children:Object(u.jsxs)("div",{className:"row g-0",children:[Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsx)("img",{src:a.poster||w,className:"img-fluid rounded-start",alt:a.title})}),Object(u.jsx)("div",{className:"col-md-10",children:Object(u.jsxs)("div",{className:"card-body p-0 m-0 px-4",children:[Object(u.jsxs)("h3",{className:"card-title text-light pt-0 mt-0",children:[a.title," (",Object(u.jsx)(O.c,{className:"text-info",to:"/search/year/".concat(a.year),children:a.year}),")",Object(u.jsx)(u.Fragment,{children:"\xa0"})]}),Object(u.jsxs)("p",{className:"p-0 m-0 ",children:[Object(u.jsx)(M,{rating:a.imdb.rating})," ",Object(u.jsx)("br",{}),Object(u.jsxs)("span",{className:"x-small",children:[" ",a.imdb.rating,"/10 by ",a.imdb.votes.toLocaleString()," users"]})]}),Object(u.jsx)("p",{className:" fst-italic small my-3 ",children:a.fullplot}),a.writers?Object(u.jsxs)("p",{className:" small m-0 px-1 py-1 text-light",children:["Writers: ",Object(u.jsx)(G,{field:"writers",array:a.writers})]}):"",a.directors?Object(u.jsxs)("p",{className:" small m-0 px-1 py-1 text-light",children:["Directors: ",Object(u.jsx)(G,{field:"directors",array:a.directors})]}):"",a.released?Object(u.jsxs)("p",{className:"lighter_bg small m-0 px-1 py-1 text-light",children:["Released: ",a.released.toLocaleString().split("00:00:00 GMT")[0]]}):"",Object(u.jsxs)("p",{className:" small m-0 px-1 py-1 text-light",children:["Runtime: ",a.runtime," min"]}),Object(u.jsxs)("p",{className:"lighter_bg small m-0 px-1 py-1 text-light",children:["Genres: ",Object(u.jsx)(G,{field:"genres",array:a.genres})]}),Object(u.jsxs)("p",{className:" small m-0 px-1 py-1 text-light",children:["Stars: ",Object(u.jsx)(G,{field:"cast",array:a.cast})]}),a.tomatoes?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{className:"lighter_bg small m-0 px-1 py-1 text-light",children:["Production: ",Object(u.jsx)(O.c,{className:"text-info",to:"/search/production/".concat(a.tomatoes.production),children:a.tomatoes.production}),Object(u.jsx)("a",{className:"float-end pe-1 text-muted text-decoration-none",rel:"noreferrer",target:"_blank",href:a.tomatoes.website,children:"website"})]}),Object(u.jsxs)("p",{className:" small m-0 px-1 py-1 text-light",children:["Consensus: ",a.tomatoes.consensus]}),Object(u.jsxs)("p",{className:"lighter_bg small m-0 px-1 py-1 text-light",children:["Box office: ",a.tomatoes.boxOffice]})]}):""]})})]})}),Object(u.jsxs)("div",{className:"card dark_bg mt-5 p-4",children:[Object(u.jsxs)("h4",{className:"text-light",children:["Comments (",o.length,")"]}),o.map((function(e,t){return Object(u.jsxs)("div",{className:"border-bottom border-secondary mb-3",children:[Object(u.jsxs)("p",{className:"small text-muted p-0 m-0",children:[e.name," - ",e.date.split("T")[0]]}),Object(u.jsx)("p",{className:"fst-italic text-light",children:e.text})]},t)}))]})]})})]})}var V=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)([]),r=Object(i.a)(n,2),l=r[0],o=r[1];return Object(c.useEffect)((function(){fetch("/api/").then((function(e){if(200===e.status)return e.json()})).then((function(e){o(e.genres),a(e.movies)}))}),[]),Object(u.jsx)(v,{genres:l,children:Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{path:"/",element:Object(u.jsx)(R,{movies:s})}),Object(u.jsx)(h.a,{path:"/search/:field/:term",element:Object(u.jsx)(B,{})}),Object(u.jsx)(h.a,{path:"/movie/:movieId",element:Object(u.jsx)(P,{})})]})})};s(81);function q(){var e=Object(h.e)().pathname;return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}r.a.render(Object(u.jsx)(O.a,{children:Object(u.jsxs)(a.a.StrictMode,{children:[Object(u.jsx)(q,{}),Object(u.jsx)(V,{})]})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.566b2877.chunk.js.map