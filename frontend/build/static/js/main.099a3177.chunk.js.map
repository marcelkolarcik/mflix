{"version":3,"sources":["ui/DropdownLink.js","auth/firebase.js","components/MainNav.js","ui/Layout.js","ui/images/placeholder_img.jpg","ui/SinglePlaceholderCard.js","ui/images/PlaceholderImage.svg","components/movies/MovieCard.js","components/movies/Movies.js","components/movies/ScrollerNav.js","components/movies/MovieScrollerTitleNav.js","components/movies/MovieScroller.js","components/Hero.js","components/HeroTitles/LandingTitle.js","pages/Landing.js","components/HeroTitles/SearchTitle.js","ui/SearchPagination.js","components/movies/SearchResults.js","pages/Search.js","components/movies/RatingStars.js","components/HeroTitles/MovieTitle.js","ui/images/default_hero.jpg","ui/SearchLink.js","components/comments/CommentForm.js","components/comments/Comment.js","pages/Movie.js","auth/Login.js","auth/Reset.js","auth/Register.js","store/booking-context.js","components/theatres/TheaterInfo.js","components/dashboard/MyBookings.js","pages/Dashboard.js","components/HeroTitles/TheatersTitle.js","components/theatres/TheaterPopup.js","components/theatres/TheatresMap.js","pages/Theatres.js","components/HeroTitles/TheaterTitle.js","components/theatres/BookingForm/Days.js","components/theatres/BookingForm/Times.js","components/theatres/BookingForm/BookingConfirmed.js","components/theatres/BookingForm/BookingInProcess.js","components/theatres/BookingForm/FormError.js","components/theatres/BookingForm.js","components/theatres/TheaterMovie.js","pages/Theater.js","App.js","ui/ScrollToTop.js","index.js","components/theatres/BookingForm.module.css"],"names":["closeDrop","document","querySelector","classList","remove","e","DropdownLink","props","onClick","className","class","to","field","searchTerm","text","auth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","googleProvider","GoogleAuthProvider","signInWithGoogle","a","signInWithPopup","res","user","fetch","uid","then","response","status","json","data","name","method","body","JSON","stringify","displayName","authProvider","email","headers","Headers","console","log","catch","error","signInWithEmailAndPassword","password","alert","message","registerWithEmailAndPassword","createUserWithEmailAndPassword","sendPasswordResetEmail","logout","signOut","MainNav","useAuthState","genres","_search","useRef","navigate","useNavigate","onSearch","current","value","Navbar","expand","bg","variant","sticky","Toggle","Collapse","id","Nav","NavDropdown","title","map","sort","idx","genre","Form","onSubmit","preventDefault","InputGroup","FormControl","ref","placeholder","Text","Label","htmlFor","visuallyHidden","Layout","children","SinglePlaceholderCard","Card","Placeholder","as","Img","src","defaultImg","animation","Title","xs","size","Body","MovieCard","movie","style","backgroundImage","poster","img","imdb","rating","votes","toLocaleString","plot","substring","runtime","search","year","Movies","movies","length","Array","from","_","ScrollerNav","scrollLeftBtn","scrollRightBtn","parent_id","parent","getElementById","dataset","scrollLeft","add","MovieScrollerTitleNav","link","MovieScroller","Hero","_style","image","backgroundRepeat","backgroundPosition","backgroundSize","LandingTitle","Landing","groupedMovies","SearchTitle","SearchPagination","moviesPerPage","page","perPage","setPage","numOfButtons","Math","ceil","paginationBtns","Pagination","Item","active","disabled","Prev","First","Ellipsis","Next","Last","SearchResults","useState","setMoviesPerPage","pathname","useLocation","useEffect","slice","window","scrollTo","Search","useParams","setMovies","term","RatingStars","parseInt","MovieTitle","SearchLink","array","item","CommentForm","remaining","setRemaining","isSending","setIsSending","isSent","setIsSent","comment","action","_comment","movieId","movie_id","result","append","err","maxLength","onChange","target","Comment","confirm","setConfirm","isDeleted","setIsDeleted","isDeleting","setIsDeleting","date","split","isOwner","commentId","Movie","param","setMovie","comments","setComments","isLoading","setIsLoading","user_email","sm","alt","fullplot","writers","directors","released","cast","tomatoes","production","rel","href","website","consensus","boxOffice","addComment","Login","setEmail","setPassword","loading","redirectTo","URLSearchParams","location","get","type","Reset","Register","setName","BookingContext","createContext","numOfBookings","bookings","addBooking","booking","BookingContextProvider","setBooking","context","prevBookings","concat","Provider","TheaterInfo","theater","InfoLine","lineClass","address","city","state","street1","zipcode","geo","coordinates","MyBookings","day","time","bookingName","bookingEmail","adults","totalPrice","Dashboard","bookingCtx","useContext","TheatersTitle","TheaterPopup","addEventListener","Popup","_id","onclick","setTheaterId","TheatresMap","markers","MapContainer","height","center","zoom","scrollWheelZoom","TileLayer","url","attribution","Marker","position","onTheAir","Theatres","setMarkers","isClicked","setIsClicked","setOnTheAir","theaterId","theaterMovies","setTheaterMovies","tempMovies","theaters","scrollIntoView","marginTop","TheaterTitle","Days","setDay","defaultValue","dt","Date","setTime","getTime","setHours","_day","toDateString","Times","BookingConfirmed","BookingInProcess","changeText1","setChangeText1","changeText2","setChangeText2","setTimeout","requiredFields","messages","FormError","BookingForm","show","setShow","setAdults","setChildren","adultPrice","setAdultPrice","childrenPrice","setChildrenPrice","isBooking","setIsBooking","isBooked","setIsBooked","setBookingName","setBookingEmail","bookingError","setBookingError","_error","setAdultPriceHandler","prev","setChildrenPriceHandler","handleClose","btnClass","Button","Modal","onHide","Header","closeButton","classes","add_btn","includes","Footer","TheaterMovie","Theater","setTheater","movieIds","URL","searchParams","App","setGroupedMovies","setGenres","all_grouped","path","element","ScrollToTop","ReactDOM","render","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.099a3177.chunk.js","sourcesContent":["import {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nexport function closeDrop() {\r\n\r\n    /*on large screen there is no dropdown for some links,\r\n    * so it would create an error and page reload on click\r\n    *\r\n    * there might be another solution with media queries...*/\r\n    try {\r\n        document.querySelector('.show.dropdown-menu').classList.remove('show');\r\n    } catch (e) {\r\n\r\n    }\r\n    try {\r\n        document.querySelector('.show').classList.remove('show');\r\n    } catch (e) {\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default function DropdownLink(props) {\r\n\r\n    return (\r\n        <NavLink\r\n\r\n            onClick={closeDrop}\r\n            className={props.class + ' ps-2'}\r\n            to={`/search/${props.field}/${props.searchTerm}`}>\r\n            {props.text}\r\n        </NavLink>\r\n    );\r\n}","import firebase from \"firebase/compat\";\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAYZ94tcJHjzsWA9dZ_XDfq2-5N7fshBys\",\r\n    authDomain: \"getting-started-react-19e7f.firebaseapp.com\",\r\n    databaseURL: \"https://getting-started-react-19e7f-default-rtdb.europe-west1.firebasedatabase.app\",\r\n    projectId: \"getting-started-react-19e7f\",\r\n    storageBucket: \"getting-started-react-19e7f.appspot.com\",\r\n    messagingSenderId: \"1057344622688\",\r\n    appId: \"1:1057344622688:web:b49976a0434d2828633305\"\r\n};\r\n\r\nconst app = firebase.initializeApp(firebaseConfig);\r\nconst auth = app.auth();\r\n\r\n\r\nconst googleProvider = new firebase.auth.GoogleAuthProvider();\r\n\r\nconst signInWithGoogle = async () => {\r\n    try {\r\n        const res = await auth.signInWithPopup(googleProvider);\r\n        const user = res.user;\r\n        await fetch('/api/user/get/' + user.uid+'/')\r\n            .then(response => {\r\n                if (response.status === 200) {\r\n\r\n                    return response.json()\r\n                }\r\n            })\r\n            .then(data => {\r\n                if (!data.name) {\r\n                    fetch('/api/user/add/',\r\n                        {\r\n                            method: 'POST',\r\n                            body: JSON.stringify({\r\n                                    uid: user.uid,\r\n                                    name: user.displayName,\r\n                                    authProvider: \"google\",\r\n                                    email: user.email,\r\n                                },\r\n                            ),\r\n\r\n                            headers: new Headers({\r\n                                \"content-type\": \"application/json\"\r\n                            })\r\n                        }).then(response => {\r\n                        return response.json()\r\n                    }).then(data => {\r\n                        console.log(data)\r\n                    })\r\n                        .catch(error => {\r\n                            console.log('error: ' + error)\r\n                        })\r\n                }\r\n            })\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n    }\r\n};\r\nconst signInWithEmailAndPassword = async (email, password) => {\r\n    try {\r\n        await auth.signInWithEmailAndPassword(email, password);\r\n    } catch (err) {\r\n        console.error(err);\r\n        alert(err.message);\r\n    }\r\n};\r\n\r\nconst registerWithEmailAndPassword = async (name, email, password) => {\r\n    try {\r\n        const res = await auth.createUserWithEmailAndPassword(email, password);\r\n        const user = res.user;\r\n\r\n        await fetch('/api/add_user/',\r\n            {\r\n                method: 'POST',\r\n                body: JSON.stringify({\r\n                        uid: user.uid,\r\n                        name,\r\n                        authProvider: \"local\",\r\n                        email\r\n                    },\r\n                ),\r\n\r\n                headers: new Headers({\r\n                    \"content-type\": \"application/json\"\r\n                })\r\n            }).then(response => {\r\n            return response.json()\r\n        }).then(data => {\r\n            console.log(data)\r\n        })\r\n            .catch(error => {\r\n                alert('error: ' + error)\r\n            })\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n        alert(err.message);\r\n    }\r\n};\r\n\r\nconst sendPasswordResetEmail = async (email) => {\r\n    try {\r\n        await auth.sendPasswordResetEmail(email);\r\n        alert(\"Password reset link sent!\");\r\n    } catch (err) {\r\n        console.error(err);\r\n        alert(err.message);\r\n    }\r\n};\r\n\r\nconst logout = () => {\r\n    auth.signOut();\r\n};\r\n\r\nexport {\r\n    auth,\r\n    signInWithGoogle,\r\n    signInWithEmailAndPassword,\r\n    registerWithEmailAndPassword,\r\n    sendPasswordResetEmail,\r\n    logout,\r\n};","import Navbar from \"react-bootstrap/Navbar\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport React, {useRef} from \"react\";\r\nimport {Link, NavLink, useNavigate} from 'react-router-dom';\r\nimport DropdownLink, {closeDrop} from \"../ui/DropdownLink\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {auth} from '../auth/firebase';\r\n\r\nexport default function MainNav(props) {\r\n\r\n\r\n    const [user] = useAuthState(auth);\r\n    const genres = props.genres;\r\n\r\n    const movieLinks = ['popular', 'top-rated', 'on-the-air'];\r\n\r\n    const tvLinks = ['popular', 'top-rated', 'on-the-air'];\r\n    const _search = useRef();\r\n    const navigate = useNavigate();\r\n\r\n    function onSearch() {\r\n        const searchTerm = _search.current.value\r\n        if (searchTerm) {\r\n            navigate('/search/term/' + searchTerm)\r\n            _search.current.value = ''\r\n            closeDrop();\r\n        } else {\r\n            alert('Search term is missing')\r\n        }\r\n        console.log(_search.current.value)\r\n    }\r\n\r\n    function onSubmit(e) {\r\n        e.preventDefault();\r\n        onSearch();\r\n    }\r\n\r\n    return (\r\n        <Navbar expand={'md'} bg=\"dark\" variant=\"dark\" sticky={'top'}>\r\n            <>\r\n                <NavLink\r\n                    className={'navbar navbar-brand px-2'}\r\n                    to={`/`}>\r\n                    mkFLIX\r\n                </NavLink>\r\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\r\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                    <Link\r\n\r\n                        onClick={closeDrop}\r\n                        className={' text-decoration-none nav_link_color nav-link'}\r\n                        to={`/theatres`}>\r\n                        Theatres\r\n                    </Link>\r\n                    <Nav className=\"me-auto\">\r\n                        {/*<Link className='mx-3 nav-link text-light ' to={'/'}>Places to stay</Link>*/}\r\n\r\n\r\n                        <NavDropdown title=\"Movies&nbsp;\" id=\"navbarScrollingDropdown\">\r\n                            {movieLinks.map((sort, idx) => (\r\n                                <div key={idx} className=\"col\">\r\n                                    <NavLink\r\n\r\n                                        onClick={closeDrop}\r\n                                        className={'dropdown-item nav-link ps-2'}\r\n                                        to={`/search/movie/${sort}`}>\r\n                                        {sort}\r\n                                    </NavLink>\r\n\r\n                                </div>\r\n                            ))}\r\n\r\n\r\n                        </NavDropdown>\r\n                        <NavDropdown title=\"TV Shows&nbsp;\" id=\"navbarScrollingDropdown\"\r\n                                     className={'col-md-5 col-5'}>\r\n                            {tvLinks.map((sort, idx) => (\r\n                                <div key={idx} className=\"col\">\r\n                                    <NavLink\r\n\r\n                                        onClick={closeDrop}\r\n                                        className={'dropdown-item nav-link ps-2'}\r\n                                        to={`/search/series/${sort}`}>\r\n                                        {sort}\r\n                                    </NavLink>\r\n\r\n                                </div>\r\n                            ))}\r\n\r\n                        </NavDropdown>\r\n                        <NavDropdown title=\"Genres&nbsp;\" id=\"navbarScrollingDropdown\"\r\n                                     className={' col-12'}>\r\n\r\n\r\n                            <div className=\"row dropdown-bg g-0\">\r\n                                {genres.map((genre, idx) => (\r\n                                    <div key={idx} className=\"col-4\">\r\n                                        <DropdownLink class={'dropdown-item nav-link'} field={'genres'}\r\n                                                      searchTerm={genre} text={genre}/>\r\n\r\n\r\n                                    </div>\r\n                                ))}\r\n\r\n\r\n                            </div>\r\n\r\n\r\n                        </NavDropdown>\r\n\r\n                    </Nav>\r\n\r\n                    <Nav className=\"ms-auto\">\r\n                        <Form className=\"d-flex\" onSubmit={onSubmit}>\r\n                            <InputGroup>\r\n\r\n                                <FormControl id=\"inlineFormInputGroup\"\r\n                                             ref={_search}\r\n                                             placeholder=\"Search\"\r\n                                             className={'dropdown-bg'}/>\r\n                                <InputGroup.Text className={'search_btn'} onClick={onSearch}>&#x1F50E;</InputGroup.Text>\r\n                            </InputGroup>\r\n                            <Form.Label htmlFor=\"inlineFormInputGroup\" visuallyHidden>\r\n                                Search\r\n                            </Form.Label>\r\n                        </Form>\r\n\r\n                        {user ?\r\n                            <NavLink\r\n                                className='login_btn btn btn-outline-info mx-2  small mb-2 mb-sm-0'\r\n                                onClick={closeDrop}\r\n                                to={'/dashboard'}>\r\n                                Dashboard\r\n                            </NavLink>\r\n                            :\r\n                            <>\r\n                                <NavLink\r\n                                    className='login_btn btn btn-outline-info mx-2  small mb-2 mb-sm-0'\r\n                                    onClick={closeDrop}\r\n                                    to={'/login'}>\r\n                                    Sign In\r\n                                </NavLink>\r\n                                <NavLink className='btn btn-info mx-2 text-light  register_btn'\r\n                                         onClick={closeDrop}\r\n                                         to={'/register'}\r\n                                >Register</NavLink>\r\n                            </>}\r\n\r\n\r\n                    </Nav>\r\n\r\n                </Navbar.Collapse>\r\n            </>\r\n\r\n        </Navbar>\r\n    );\r\n}","import MainNav from \"../components/MainNav\";\r\nimport React from \"react\";\r\n\r\nexport default function Layout(props) {\r\n    return (\r\n        <>\r\n\r\n            <MainNav genres={props.genres}/>\r\n\r\n            {props.children}\r\n\r\n        </>\r\n    );\r\n}","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCACVAJUDAREAAhEBAxEB/8QAGgAAAwEBAQEAAAAAAAAAAAAAAwQFAgEABv/EABgBAAMBAQAAAAAAAAAAAAAAAAABAgME/9oADAMBAAIQAxAAAAHqaGdFmjayROkTMayDFTNdUrzo8+yja9Zyx01bIFLaeElaKi2SKNeOXGgJq3HiTstJrqvK4dZ9nRsYXlTadmoq182/fOknRTlOeS80uqJ7r6gakWe5iiAWyS6JoZYqStmdIE8UwbCiAEBYkkVnZt7HdLbnVqao8owBJpaLta58ZCS6FhkEL4QnDgmlaoz56TdMqwMDQCmCCpdDFTkFEZZ9CE5B2otZkB+deh0J4iBhMQ6Qw56TXpV05XkLjVBiSlczWoxLqoao6a9JVy8ApoiZZpBbZvL6VwiBUZBONKmuSlT6adEJNQEShNEEKNHqzaqQqqSY0avLKe1pOVE0znlNE0IpOdG6zUVBaQckm6tZ9DoSld6ZxosxcR00N4zmlPXmbLoy4FLXAzkNR1hGtSDomzV9ZdVynoNWdtmYdJ3chWxnjEz2FUGBUTTRGtNaHED6lUuCTlhP0UtNPtR9M7AilIq2Uo1T6SmxVowMTRhKLZWss1Dw1A6joxk0mjGsPLodvnxpkSaMiaB0eGIGctk9+doDB84DoWhgQwMruZlpV15sjSCbne9IvSLzWgNpKAIi8EwKQODRCpB2aYHzXNgIww5Ww0XoDyqUpEFgpgoE4QRlAqEpQ7Ko21WRINeltpq02XFREYE2W6lZM4ETVDWT5yXP74tAhG2rznEtgw0GWxS7FpNAaYuE1dqo7z780zkAIdIZlockjy6AQkRt3TJ4XQl56Z0z8Koh0qNOlNz86Iq2YefnnQBoBDIE+NmLxiDbi//EACUQAAMAAgMAAgICAwEAAAAAAAECAwAEERITIiMUIQUxJDIzQ//aAAgBAQABBQKf14j/AK7DnY7KmvThVYKEt3QrN88mnrqxI1uWZ6cZEKX/AJB+FFaRyTCrF53xEPPPXHp9I10pk4U9jXu5n6tsHpHz5gki1js1N/yJ864UrsRLLqK65sV77JqGxORr66K9VFEzsrHa/b6jcNaxnH1QtDxY7ZP5Hf4I3TXjP4MOzrQTX8qhI2e0W1G482zabq+t1WTHqIlWnTkiEuo2VNbsjTb+PXvbZv5tOcrjYi/X1PfWXnYcnJ8Ku8f3KLE65q1b6czn2zw/CZqoPCcdema1etGurZpz89d3ettYeev609fUOFiPGk8n1OD7bADrMeM/Zu0m5m32Ys1OC3YWr/jrR64kIVdx2TxIzbfpL4MEmSa15Gv6E3ac0VFbFFFelX/IpQ9vftqszKgfrkJ9Hbo+PAcxTzxLEEHnNmT0Z50Bh/RqGJID7jN3VchZ1QWg2NEsGZYZRvnOb3wdeJnrjv8AC46yT9Sk/wBBJOTo2DzAfXRwuuZVPPJ5yvwjOPbIw+7mj51jmvMTTjrINznmhPAcbQ4Wr9Yd8iWarLy9zyKOQtZz4Gs/pXte0WWeLTmSnrnUO9K9rMO+fvNg9YhqHJ2alKxSw8HmNReFL98WJalCrV2uxHbzkLnHVLJYmeKwElsRHlM+SYzdhuH0pGb8IPPCFOvIhUd/POq5VvKUxwg4Y3AbArIYEd5enQsMtrlpFCjcYtl7zRTSh6zf4o1OMlTgNVqCZHmoKRf8b0SUmx+xordCEd9d6Unk+lDWo7rYHHfidR568tbvk/QVa0Kv4ngjprpA9YDqrti8u/8AzktWOGM2aj1TNvZ9M0V6z4JoQXYkE2fvdLfq9euqMflrUr1wXm+TWgHXsqoUfhOXQYPhjcwwbXpnkBPyK4k+2R5YW1pzx41TNr9HNT+90hZxBTKWeWJvIcRUY8eRzfcllHrRID8mlH7pscYMNTOPr2aZXzqk3L6XbKq8NZDOuTmPWgoKeo4ioTWBZRGvfChpUuFJbpEODiqpbBsI+DoWchJ+h5XgtZ2TOI0EoeJq/mF63ZvitH/U0b8ZoNLGs7GwiX86SGr2Yux7fUQ2v6Zs8oOWGa57ZV+VhNem4/ptLsvzExGFexmuM3B5BwJ9lOKHW+L7G34VXbg+bHKnV/Tps0xJKyIn07IKvBvpn/uf7f8A5a0vrjV/Rlzngf8AkfkNdeK0+y04rx//xAAjEQACAgICAgMBAQEAAAAAAAAAAQIRECESIAMxMEFREyIy/9oACAEDAQE/AaE8U3vEisNWR1EojH9JxrLjSISS9k5KtYhDkSi445UqHEbsQ8Xawt+ydekIjRN8nQ8cSOlR5NrLfT3hbODY1WIsvO8Tl8K0L0SdvqnRyRY335Z567UcX3eK70R9lIc661h4XVZickSlY1XRDI7ZLQulY45sbs8n+mO0RleLJniRPbEcdCVj0Xi9DEURr7KvHjjux72OFDRB0hbFBociK0Ml+dVsaob4+jl+n0K0eR3h4/rrCE9nsr4Y3ZexNEso/m6sdrCY31Ud7Je+tjwkS9Hkl9C6LLdfAvZdM5WPbELbJJYv47NMb11kRja2fzr4qeEhIaz7OFfY3Ja6NlavospCJO2IfS6y1ZL/AJSEiMCSpiErZJUQcfs8j30elQ8vL2fZBcmTEQ/RvlLqvZx1iKHE/8QAIxEAAgICAgMBAAMBAAAAAAAAAAECERAgITESMEEDIiNRYf/aAAgBAgEBPwG7JRZTFS4GJjKE6HyxvglL/CDvds7KGrZ5URQ+xaVXQs9Cx5Yjmtm6Lrv0IS9LH2RVLWSs8X6az4c72vfZYzyK1T9dE7YkJCd6MRPhEecVreOCsQWlED9CPCxY3QnefubwppFp8iZeFL4PkkdiGxEdWqx4Jnj/AIdaLFYZR0Xperoavgoj3pZWKK05L4F6oIaWjzVv1MQx8Ii28NeuUfL6f2R/6R5enSIMVVyNeluhfpGXTOcN6R4L1ij7Wn6240j8vzuX8job25xTeKIyI92SZKQnelC0V3os/D4dCHj5teGeR//EAC8QAAEDAwMCBgEEAgMAAAAAAAEAAhEDEiExQVEiYRATIzJScYFCYpGhcrGS0dL/2gAIAQEABj8CfUP6QszK4TGCcZK6zlF04ARdUaHZgcotY+13DkG76lSocNFATo/KbSburaZUVGCdSQhY/PC48GNrNuuydl6D4PDkPMbAGZTiTClpElBhwXJth3lNaTPKc6m7C9Snn5NV7TIcjErqGITnbaBaJx3fgJxI6Rsuh86CD4XDRH6UtOXHCBq0s/JqNjgstMDAUNJgKpU3PSFnCtGpVg0bgL02fynF48vaVNIioOygAym0xowQhdOcpzviEDarQs6lNYPa3CgbI1CPag2y8bomlcwprWi4N4O6F2SNtE6oRAaoGUITaf5K6SQrakPDd4ReH2/a6mXN5amgRJyQtwuEXaxwnF89wnzpOIQ5OSnuapdiclSD7lFVgcvSNsmepepTMchCHAgIu5KgHPh1/wAKYhXOpgjYjBXRV/5BG4e3VN8uQXK2pSFT/aFjiP2lFoxKa1rcbnsvta2FAf2FYBotcIl7fd041XoVB9OQaWkSpYeluIVxYF0NMnpCNxAPYrCLniXHdZVzDCdU/AWT4Sxwxsjc0hOqaACAo2G3Ktac8hNGoaP7V1uFUeXdLRp3XU0sPLdEfLIqKnT3aFnlG3ZF1PJUOaWnuih/aLjiVPAWCnNd1QrbRzC6TCvdFoyi8mJW34VOnu7qKCnjKMsD28FW+3tqFiM5woGq/wC1OkZUzIKbwmjlTEyg0rKhuDKDYDrtihLjT/0gP0chOe3ScIEu02Rf8sBDGvg+DAGApCAKOdV5jMAcIU6ga8HlSDGIWRI5CNVywg4uwF9YCsmUXAx+kI+awGP1BW03tu4chTsNoESpj+VUqRGwXtWmF06qwZtCiendVH/EQPtdGEBourRC0pzuNEZdlTOU2lPtEn7RtOEXuAFmZReH47qKtOI1LE1rMjU8oggj7WMfSfIxT1cEX0aocTsdVBYQUBEzkq1p/CddtlS4qNlj+8rNOPpS2D9Jzjhx2KmJ+10QC7JTW1m9O0K1pm90u+lroonTlQw50QZMuqGT4WT0byiXXMPyClltUdtVEEGod0btEGnKJU6onRzlDoeO6gEsJ21XpsuZ2VoH3KdVO+Ap2lEymsDILkfi3AUBE7nAWU2wwXaQjMOA5UNdY7voiTb2tUItOqDdSFLWi5PqOxGAgWPIlW1qQf8AWqDG4A28DKBdwhFSydjoptkctTKZ0aM/fg6qc+WMIAZLkc6poY2YGV1i0q9rpVzzhcpjB/kUydAg7ZuVgrqHg273lHzI0QtwF6lP8hTSfPYprIy4yUSQQWJokOGqc9zNSv8A1lT7bsrqKcC221Oq0ajXE7L1GFpU/LwER4PLlHmSO6AC7LTKmyW7rHRKdmS5cFAOaJ7LGEUcdT0HQmNDAQcEFBhfa4DC9PM7hEu2wuoOQuZa4ielek5r1DdG4WJRcnN2QjQaK0H2q2L2/uXmxZGFc03BZ0UKCrtgEXx7k1oec7INtnlalqwdRCc74NJVr4qN/cFe3p7aq1DqTjwpOZ8KTdj1FFwJDroVjjKnwPdRwdk6TsnE8rOV/8QAJRABAAICAgICAwADAQAAAAAAAQARITFBUWFxgZGhwfCx0eEQ/9oACAEBAAE/ITXwL3xK6hKWqsHiFEFLztgOZeLimvaZoz1BX2n98nzAJLSpxMiPodxEzNpY2vPic6PzmpmyHUYE553cHU7gtS1B5WpZD4RoAIJYJw5eJeKhxfuAG0WGqnIDXMReYzVQKKnNN4JvC7CDms349xhI3BsqXHF6P4jFeopUFnk3OEBS+8zlgPwEoAynA6ZuuZh3v2lCKhTIW7+JZJxjDLsGGIfX5QqTE6TUEz/wlgYua5jk8yMXLlQS8EyVeV7XcrvmdDzFMclSonk90ZY7eDcEtVe7LE+1/P1DB2U5IP7U3Mu4srfqURV2Ht1+4kBnxuVw3c8YtQg3lBz/AFS+D2JTZQo9wKEhYZRAtnEvZvK5vKoYABSxbMvBDYJWXUtBNOa7h7bxLR8fcwqs9jU5m0PIYyy1t3JjsPYEaHs4n1FBdXG4VMTgooLrlL/lc+SHMA8GyyjuIRZ2Xi3FSnzBOxVLXLsEdn7lDi4mV+JTj5DIQOdnwEV3uR3nCscQUatc45jRbUPwlVBmVbZpJbtRyZSYxrakYSyXfNTWBN6+0J37tO8e46jBVnEumUad36Qa6HSnqKAF5NQY0i1dCerbcWRc9tzseyaRBsp9TERCrWI55Fm1FJ31hiXQJQ8sOgmGGlYPct40Q2P+oMWVYgyyhxCJYXZx3Nqu74gC4Wwir4n0pO4kzMn8rzMVNVCjIyQgho0S1y3CseE+4iRwFq2ozbr+BFArw5Pie0I+XcpeXKMPLCJHYdeYxqBvylKGcSjnB+RKZEa3BA+2YmlvKbJdXSmU3ANgOglJ3LjgssVBZ7XHLDcRR8JR3+OodzpdEqKunaKLHdBiX4fJB2bHggiDLMoI5LqE13vZxLYDqT35CGAcqOpa9QdzClefiZrAThyxhZoVTGVYfBFFYPOYJSFcmITSxQXwRRI7IyBV6PBHtE2rcWwMvMu2FZuCbEeJhRq9JBvA/TmfHqjVIBGSMbMovU/zaJDeOcHqFalcQST08sVveFZQLjnUafz3LGUK0sQXDBhYSVcFYBNOCEFYfawpBrjiXkfYagHaG92vMGahFrkh924rlN6p4GN8eOYNqB47uDKBN13DENMPMekcqe5mrruGJT7hA5KViIrpt5cTL0TgyH4jh7iNeyYZ2y0nidWMpMOyLKKV4GeplQg44W4BCaUSr58fiCbe6vxLhdpbwRy8FxGWhAoyzacHUp3htGL9Ri4hujT9Q2Ci4JkObA6myuTiJpgSy6iWt5Dpn/kAwpYt/UtlR4CHSMKU/b+PzFSyD8TmTcCPLBA46WPxLF7OqLo0JWwEYfDi+5hMrqyVAWeoEDLbfMSlyax0TDfRNwt6lkVsO/NCBVRRVE5+RDVbN9cwugLrLAqrpxUCnj8FKhSHPcoL+a5Sx0lrYJwVxMQMH2+42s6DcWjsUlvzA9RIuBZwzLijUHyCNobfeY2QOBAQqcDhDUXkIi5PMbxZi+uWtRLwnKoBt/IRiblDt/4UxL7XEz4jTELK9yNDDBNjMUnolRfP5moXs8S7z8OoAeTSTE1irG0ebiMvjJqfMQFYKuImjfqBuOgrfxLgPDFVHjdNewmNDFPoJUl21up6Uh4j2XJZxLMrcaEACWeH+I4o9XLhoXHU2Fk0Q6qWPsJMBq1z1FaQ8wUCt4bmCV5pLrHHEqfAEMtuYGBfMx2rmCnk/UL/ACYy811uMQc+Uxcz8G2AULAo8E47XicJbJaHKYUHjc1pYcVFxFBnJLTvARKwuKlrpYeISiJnLdMQwxggTZyEqJdHcMjhlqYoFv8AKJiRjZ3zHhgNmUWbx8VsZ7v03FQeS68ylhwSEG5lVKhyVXAm9WSytQavKGWo5Egt1gUgOdF9/wAypb0IV7bnggADs3Dm1VdSgJstfmK1S1bcrdCmsw5mh8jLqqNj4/3MADnNU4lG8X8CytTTDCRQFaTayhWK3LbiviHVMp//2gAMAwEAAgADAAAAEAQK+9Zry1ekvcjwOi91TyQ/z606XCAhL5zJ/EwnyZQfd8QIXYxPrZI1QKDxOw6cIWoMAq08SoJm6pT/AA34jCPTGkc2AudQc97TyuffpaiEJkgFHjrOG7gMNgbTbm/p9jLV6IdkQ9sBjVhRIQBOXmIYIVZSviCSwEDAQJhEwSdtwTUueaRswjTf/8QAHxEBAQEBAAIDAQEBAAAAAAAAAQARIRAxIEFRYXEw/9oACAEDAQE/EHEAWkfwINIYdIWaSpxvQsOwtLSbBiS76zPE0T3KF29pa+i/1iD2W4sJ7g/cuQsH1HDJCD0sjTbi0ZA/Eu88CzZJQ4pPGFJXkQ5LIqIayPQkWNsBdOzBrk/iFXlpw9S2+dTxkEiDQXQt+Gzb9C3awbfXw37j9w6b4+v7mPgD9n2ZZ+R2z4Pln5HWWfDINmY6Yo8gWc3wNnZ16ths84x3x/PC2o0ts+2Y26ye3ksBc7Gh5MsJLBkBN2eWty9iWk/8SwaMrzJ5Gy/E6Jl6JDTL6LdyD5McS5Dkv2wjhpI+mI2+oryci6HJUHLS722tiJ8yPqGmFyHk/wBh+5PEntIjLGUzlx49tyn1CsLXcI9iNYbq3JmyPVg1vfCTPGQZ5dDJdMkhrGUyGKHZtjrkQIMzIc9WDaPjdvXLCToX1eRtLp7fqHbZy4GTIRK5PPI1vudbDq7N6+RJ7Fjr6n0sDt92J68AISXznyAey/JyQxH98E9Swdh4rXo/8MskPZaW1rYeNyQWMoaRrqCzxkQq+h843t9csH3bMAi4Q1hlmymYeMkyBJdvYskGFtnW0BhcAuc2zZ7QGD4Axe2AevLQ0mXLeVtzUiO5ex4AGaC/HPtJOGW0hL//xAAgEQEBAQADAQEBAAMBAAAAAAABABEQITFBUSAwYXGR/9oACAECAQE/ECEOlh7KCx68tnJG5Aey1zzINSEUdzwOsm+QLeWEJ4sfbtI8GwNkmpHyXIYMjsfUHdm7vGw64cONusseEg7Z11ZsGSKxYNs+kImlkknzhcNuvsPtl3/KDxnAW7ToP5w5AeQBwuR7v8Z/D6R/O2Hrbxv8Bwtv8uI1eLXzuN8pL1Ie2Rpey5Z11DnfLIPAdBLlhB449nrq9ZDcJeV+8h5Y3TnZljFk79kCe2GDJnthB+znu/chzGxK5GmwQ8sYEsfM7OIwTDaGlgc4xe1tGSDqf1Cbcsbt+reA/JO8g4fTCBF1HxaKsPW3XrPLf3h5PvyRkvQL/eP2OHTzgux0xw5OAWw7h8WQXyR5Gndk2dMdMsvIF7tF+09N5zjM8hiejb/t9oBsG+Xcdz6vDIwMhf8AKOM/jLJxId5DDqTmXy3ucI9k79vfP8PSxCX6YP8AxkbYj/vl7jskemZxAfLA/wAADXigBLYQ7xm9MEbHfyMe5beNGUpM5LRtbHRHwWFjseS4Q8BrV42uyiwiA6lrgYSnRZNngntsOSWmw7zl6ePJ3oWbhkBmXnh8nrpH8PkdoJZCv//EACQQAQACAgEFAAIDAQAAAAAAAAERIQAxQVFhcYGRobHB0fDh/9oACAEBAAE/EN6p09XQwdGRh3Ks+Zj5gBj0DRFvSt30xrhEUeaNQT9xhgkORqDzkpxpKfePzWnS2nYBjXAbpHsKw8gxrZovsZNhzWx0ZFIRUsyHP5Mjxutx/kY1OXcjSWDK7paiBQeJ/WAIsdoPsNZDdcWk2l4cbTGmdTw7yU7WVbO2FI5GjgwxVrICejmP1jZlS6U9mMYcQlA1J16d8YS4RLHAHLxGSZgLzBETOwrZ8y1hRYHQYJuMEmBhC51LkbL2jSJD3iciLd3oopqwxHEKLbGdqpxIgTKqrXrDFmQNjc+vznPNFN2N/XIj9AaPi37yDEFyGmInCBTiJBt+9YgNhkpaR70+064KCEUkEidCeHrgxJlceMLt0E0BrEVSV1xDkDD3bhtYeIPzgfw8KSuVVHvE0lU2D2huMFkgGQBtJ4mfxgsZBJT6RWNZTxWwzwZPMC4ComMAxFMcqwYzDNNRhTT0WPORctvcfBOcF7DQ2G63i3racPOCEQIOIzqTp3xEZEkqXa/XzEtS3irSU64H05DpIIJicFdJ9EwMpAqboJaxowNvUxvJKCwHYBf+ZAxZqBwvnfhGMSAS9hBLfB8xSpRilc/P3jGc1rCYInfP4w7kYcovEa44TI5pGLmWTfbCIQ2DoCUeffXCfH9ICn3CBEpsSVr33k0AV+XONBq064Ph+8HsTeR7MpVSWSNAnOJ0ftK23syrB1a71Z8zjApSifCAGDFyhCD7JgwC+F4W2/eMBaJCVHAdcRD9ggKZmGzJW54UALZ4nBKwbCLevgg9Yx56IIaG06fvBDijREV/AGC/NzUgeS6rCiJZmZ7bGCeEnqoglsOcYQ3F/ZVn4yw3zpBuPR13kAZQhyHB8jA6Cks8sGUtQ7cGc6bSApJHrqvd4UfN1/OAtFUJCp61H3KsupRPJWKZUECIjx5j8Y/UTygDmutZOg0WAR2GDyxt4NgP5nFNpekPTA2ZJFAQkIvvmwbk0DyP0e8NPEQUwe/h5eMS43dH+i8gXgBrEFCRpfeXwPDCiqjreFGlQJAlvDnLop+3RwDpwuzzrFksAlgpY8zfjIWO2qianrkGbHEsXEPScAnAlh1IiJ3jiHgB/wAY6pASWb4OTF9MViA9eIwKLFC37wHoXHtafATkcjmoB+Fjw4IBI6cZj2CU8w6f+Y4vFqSPaY+YSwlCqlQ6fpyA4m0yuGuawArhwSlwzeTkl+iHLXTGNJzEljzx6zklE6SAdDxgrbBZT3/phMqQEfmWTyMJgrYj+8l6QQifnBKBErW5/rANywDE8N1gxEUckzM88YRgUvdc+8cCA1OHZ9j1OSAVacEPneHbYLux/eEq0h0w3DgZptGBNI6wBOCBA+MvwwAEh6xPaBOSiiHmcWjgQqR335yYMTDQ9a1jhQRGYpovr9ZPsCbO0xlP7E1Rk2QEpE6HBLPzhgezswILclKOIfH7xoDfAmOCuYOMctvCO+kfPuAMagLQu5xSjqXIecSIiIgGQPRZRTlPOTkqQCsM7w54AcksN7yeQmDgHpqIx4v15bY1qucfU2pFT9zGE8aIzPSePeLRATIBz4rOEaEOijsQvnLQcQIhjxOfzmax9s/jJ41X0kTU+MugBIIrAU2hEbDjvL7yGLNzJCP8GLMqouWZnbs36wUZqy2jhkhLzgmDrj1G0fuMYBJKiJQ17+5epxN+j+cVwgs3AbycMNJN3rEKPoR/xKydUpXxrf5xS7iyGjp9xFGVDy3DmC8MD9pmrmKfcGFHRBHBpKWA1j1h0DxaPWccQdtBY19/04Ci1DWg+by/Idw+yTl5/Peu9YKxPV7O2R0aSN1lPdfMmo7udnvK4hDM0Qo48H7wMqOtgqEkPGNYQgRv2VeTRCAci3WPb1ExDzrBZE8FCqD7hFBkkFfbNQVv15rsmKHUMO7I9EfccqhUkZvXjJtMkIlSSPc+shD9DbsLLhXhMvHEyw4mVs685HK+Qki0NUd8hzbsE4Jq3kVF81pjv4xyCJErJTS03jtNQ9zK98QazyokVkyUnGA2Th1AGHYDQR+FYjeXVIAKO+MEMAw24iBiSz/OLgzt/dBPQrOlyPTTy+ZDnI6Bw4Et6wSLqB6GKUBVIN5KEcb7AuYm31jAnAOFBB36YAMcEkBX1+HFJOJHDod39ZqDUwknzjZaKBmOTp3d2bismZGifMYAGn7xX00BghEpPG8UsGEiFE8K6GD+dtIPU0+8fadH0JnvOTAjRFqt9ucnwyynicKGBc8Kib6GQZhJKLf5xK0RlqxT3GGHNEgHZ3mgd27zXJzls0CcKgCPA1+cCIqSkZGnZqMIJCSRwbfsfMXylqykOiO2Vj0O6F1kKDuUA3Pq8emQKuKV7nBYJNr/AM7YEXLY3f8ATIrgIp1J1hk4OkpdnjIoKBDZKnuXnB6pizV1OPOCHKHyBb9A/OMVLAufzzijEEOZ0dsopGhJDq9N4QFogxGMECC4KK9X7xr00u4/jGAIBbu5kOxsLavf25NLIsa+n3JcKQEP3+MFQvJs0iB3qfuOUpPBn68uR5sBJvl4jQj2OR/jNEOTnKwXlID84J9CWUXrzGDpCANDxP8AowmqF0ouIO2IceK0/GLzcsVGFq/OSRQE1dW+mEgCCXPynHOtNJeifAOCIPLtoPMmaTJl2TX5h9Y5lJBDIeo64RmE+D44WZC1EZE1ARFabDpRiU0pGQXIpu41iAYFAgMRXAzsL7X9wpDWwIfp/WCpiSSeRrWDAjlAlUx6OMQsEWviGzi4MkzdLmPQTVVilNdohjo7/OQEIYVrQncO/eQMZaUiOcNfCS6YLMcVhwF26SEvHbB0k6UfnJhaZEFsYGDmWAwGUDAGIAeemKIKBxhKNvgzch3jjGYAKbcL884LS4Cc8rgJrCIMuplIiMj0xBIpPO+cIAMbP06b4yEzAgIDpDpzqvxglMQ5A7Pr+sjikukJy5IJr/vGFCAOyZEs5MxKjge7kOElZUw7n1jMIhBST8ZGiCD1WJnpGCcPF14H+cHRzmPrj1jZsggi+fcR9yQAFCUgnt6xStSGhJKd7oy9yUQTuOI9kjpFaes5LJgIQ1zLlCABbtP4IwsrQWR/qws1y5KNt+cKIHYiNkd9HrK5sBnHWcbNkqz2nM/oc2F8MY9GJwQ7p7sgAI47/wCkwwhA2Ni9MSBN7SzD8nEdBEzsj+jErkJAIJWGQ5+YKcuKRdR6/ZiHnk5+kmcEAygjj/c4pQSEIEEH7ZBKjcx9P9zk0wopo3zeMAC8Fs4I3NCQSdbxQkgxrVPzii0EDa2uVHSC6xrDpmFq4D4YSqhukC9DeI+j87ncV+Mjxd2j7f5zrwHmpaf5cnJILY4mI+H5zib4oXIa1jvBsR1n9fnCqBKNkBgPmPEoD0jP/9k=\"","import Placeholder from \"react-bootstrap/Placeholder\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport React from \"react\";\r\nimport defaultImg from '../ui/images/placeholder_img.jpg'\r\n\r\nexport default function SinglePlaceholderCard(props) {\r\n    return (\r\n        <Card key={props.id}>\r\n            <Placeholder as={Card.Img} src={defaultImg} animation={'wave'}/>\r\n            <Placeholder as={Card.Title} animation=\"wave\">\r\n                <Placeholder xs={12} size={'xl'}/>\r\n            </Placeholder>\r\n            <Card.Body>\r\n                <Placeholder as={Card.Title} animation=\"wave\">\r\n                    <Placeholder xs={6}/>\r\n                </Placeholder>\r\n                <Placeholder as={Card.Text} animation=\"wave\">\r\n                    <Placeholder xs={7}/> <Placeholder xs={4}/> <Placeholder xs={4}/>{' '}\r\n                    <Placeholder xs={6}/> <Placeholder xs={8}/>\r\n                </Placeholder>\r\n\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/PlaceholderImage.5ba1fe9e.svg\";","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport img from '../../ui/images/PlaceholderImage.svg'\r\n\r\nexport default function MovieCard(props) {\r\n    const movie = props.movie\r\n\r\n\r\n    return (\r\n        <>\r\n\r\n            <div className={props.class + ' pointer'}\r\n                 style={{backgroundImage: `url(${movie.poster || img})`}}>\r\n                <div className=\"movie_inset d-flex align-items-start flex-column bd-highlight mb-3 text-light px-2\"\r\n\r\n                >\r\n                    <p className=\"text-light small\">\r\n                        <span className={'text-warning'}>&#9733;</span> {movie.imdb.rating}/10\r\n                        ({movie.imdb.votes.toLocaleString()} votes)\r\n                    </p>\r\n                    <p className=\"small text-light d-none d-md-block \">\r\n                        {movie.plot ? movie.plot.substring(0,70) + '...' : ''}\r\n                    </p>\r\n\r\n                    <p className=\"small text-light mb-2\">\r\n                        RUNTIME: {movie.runtime} mins\r\n                    </p>\r\n\r\n                    <Link to={`/movie/${movie.id}`}\r\n                          className={'mt-auto btn btn-sm btn-outline-info p-0 m-0 w-100 mb-2 text-light'}>Full\r\n                        Info</Link>\r\n                </div>\r\n                {!props.search ? <div className={'w-100 mb-5'}>\r\n                    <p className=\"small p-0 m-0 text-light\">\r\n                        {movie.title} ({movie.year})\r\n                    </p>\r\n                </div> : ''}\r\n\r\n            </div>\r\n            {props.search ? <div className={'w-100 mb-5'}>\r\n                <p className=\"small p-0 m-0 text-light\">\r\n                    {movie.title} ({movie.year})\r\n                </p>\r\n            </div> : ''}\r\n        </>\r\n\r\n\r\n    );\r\n}","import SinglePlaceholderCard from \"../../ui/SinglePlaceholderCard\";\r\nimport React from \"react\";\r\nimport MovieCard from \"./MovieCard\";\r\n\r\nexport default function Movies(props) {\r\n    const movies = props.movies\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"scroller-wrapper bg-body\">\r\n                <nav id={props.id} className=\"nav nav-underline \" aria-label=\"Secondary navigation\">\r\n                    {typeof movies !== \"undefined\" && movies.length > 0 ?\r\n                        movies.map(movie => (\r\n                            <MovieCard key={movie.id} movie={movie} class={'movie_card mb-2 col-3 mx-3'} search={false}/>\r\n                        )) :\r\n                        Array.from({length: 8}).map((_, idx) => (\r\n                            <div key={idx} className={'movie_card mb-2 col-3 mx-3'}><SinglePlaceholderCard/></div>\r\n                        ))\r\n\r\n                    }\r\n                </nav>\r\n            </div>\r\n            <hr className={'scroller-divider'}/>\r\n        </>\r\n    )\r\n}","import React, {useRef} from \"react\";\r\n\r\nexport default function ScrollerNav(props) {\r\n    const scrollLeftBtn = useRef();\r\n    const scrollRightBtn = useRef();\r\n\r\n    /*scrolling the child div and changing the color of the left carret*/\r\n    function scrollLeft() {\r\n        const parent = document.getElementById(scrollLeftBtn.current.dataset.parent_id);\r\n        parent.scrollLeft += 200;\r\n        scrollRightBtn.current.classList.remove('text-muted')\r\n\r\n    }\r\n\r\n    function scrollRight() {\r\n        const parent = document.getElementById(scrollRightBtn.current.dataset.parent_id)\r\n        parent.scrollLeft -= 200;\r\n        parent.scrollLeft === 0 ? scrollRightBtn.current.classList.add('text-muted') :\r\n            scrollRightBtn.current.classList.add('text-light')\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n         <span\r\n             ref={scrollRightBtn}\r\n             data-parent_id={props.parent_id}\r\n             onClick={scrollRight}\r\n             className={'display-6 pe-3 fw-bold pointer scroller_btn text-muted'\r\n             }>\r\n                        &lsaquo;\r\n                    </span>\r\n            <span\r\n                ref={scrollLeftBtn}\r\n                data-parent_id={props.parent_id}\r\n                onClick={scrollLeft}\r\n                className={'display-6 fw-bold pointer scroller_btn'}>\r\n                        &rsaquo;\r\n                    </span>\r\n        </>\r\n    );\r\n\r\n}","import React from \"react\";\r\nimport ScrollerNav from \"./ScrollerNav\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport default function MovieScrollerTitleNav(props) {\r\n\r\n\r\n    return (\r\n        <>\r\n            <h3 className={'bg-transparent text-light ps-3 mb-5 pointer scroller_title'}>\r\n                 <NavLink className={'text-light text-decoration-none'}\r\n                            to={props.link}>\r\n                            {props.title}  <span className={'display-6 mt-3'}>&rsaquo;</span>\r\n                </NavLink>\r\n                <span className={'float-end'}><ScrollerNav parent_id={props.parent_id}/></span>\r\n            </h3>\r\n        </>\r\n    );\r\n}","import React from \"react\";\r\nimport Movies from \"./Movies\";\r\nimport MovieScrollerTitleNav from \"./MovieScrollerTitleNav\";\r\n\r\nexport default function MovieScroller(props) {\r\n    const movies = props.movies\r\n    return (\r\n        <div className=\"container\">\r\n\r\n\r\n            <MovieScrollerTitleNav parent_id={props.id} title={props.title} link={props.link}/>\r\n            <Movies id={props.id} movies={movies}/>\r\n\r\n        </div>);\r\n}","import React from \"react\";\r\n\r\nexport default function Hero(props) {\r\n   let _style={}\r\n    if(props.image)\r\n    {\r\n        console.log('image ',props.image)\r\n         _style = {\r\n            backgroundImage:`url(${props.image})`,\r\n            backgroundRepeat:'no repeat',\r\n            backgroundPosition: 'top center',\r\n            backgroundSize:'cover'\r\n\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"jumbo-hero\" style={_style}>\r\n            <div className={'text-light'}>\r\n                {props.title}\r\n            </div>\r\n        </div>);\r\n}","import React from \"react\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {auth} from \"../../auth/firebase\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport default function LandingTitle() {\r\n    const [user] = useAuthState(auth);\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1 className={'fw-light'}>Find Movies & TV Shows. <br/>\r\n            Explore Theatres Near You. <br/>\r\n            Book The Tickets Online.</h1>\r\n\r\n            {!user && <Link\r\n                className='login_btn btn btn-outline-info mx-2 nav_link_color small mb-2 mb-sm-0'\r\n                to={'/login?next=/'}>\r\n                Sign In to comment\r\n            </Link>}\r\n        </>\r\n    );\r\n}","import React from \"react\";\r\nimport MovieScroller from \"../components/movies/MovieScroller\";\r\nimport Hero from \"../components/Hero\";\r\nimport HeroTitle from \"../components/HeroTitles/LandingTitle\";\r\n\r\nexport default function Landing(props) {\r\n\r\n    const groupedMovies = props.groupedMovies\r\n\r\n\r\n    return (\r\n        <>\r\n            <Hero title={<HeroTitle/>}/>\r\n            <div className=\"main-bg \">\r\n\r\n                <MovieScroller id={'popular'} title={'Popular'} link={'/search/movie/popular'}\r\n                               movies={groupedMovies['mp']}/>\r\n\r\n                <MovieScroller id={'top_rated'} title={'Top rated'} link={'/search/movie/top-rated'}\r\n                               movies={groupedMovies['mt']}/>\r\n\r\n                <MovieScroller id={'on_the_air'} title={'On the air'} link={'/search/movie/on-the-air'}\r\n                               movies={groupedMovies['ma']}/>\r\n\r\n                <MovieScroller id={'tv_popular'} title={'TV Popular'} link={'/search/series/popular'}\r\n                               movies={groupedMovies['sp']}/>\r\n\r\n                <MovieScroller id={'tv_top_rated'} title={'TV Top rated'} link={'/search/series/top-rated'}\r\n                               movies={groupedMovies['st']}/>\r\n\r\n                <MovieScroller id={'tv_on_the_air'} title={'TV On the air'} link={'/search/series/on-the-air'}\r\n                               movies={groupedMovies['sa']}/>\r\n\r\n            </div>\r\n        </>);\r\n}","import React from \"react\";\r\n\r\nexport default function SearchTitle(props) {\r\n    return (<h1>Results for \"{props.searchTerm}\"</h1>);\r\n}","import Pagination from \"react-bootstrap/Pagination\";\r\nimport React from \"react\";\r\n\r\nexport default function SearchPagination(props) {\r\n    const moviesPerPage = props.moviesPerPage;\r\n    const movies = props.movies;\r\n    const page = props.page;\r\n    const perPage = props.perPage;\r\n    const setPage = props.setPage;\r\n    const numOfButtons = Math.ceil(movies.length / perPage)\r\n\r\n    const paginationBtns = Array.from({length: numOfButtons}).map((_, idx) => (\r\n\r\n        (idx >= page && idx < page + 3) ?\r\n            <Pagination.Item title={`Go to page ${idx+1}`}\r\n                             key={(idx + 1)}\r\n                             active={(idx) === page}\r\n                             disabled={(idx) === page}\r\n                             onClick={() => { setPage(idx)}}>\r\n                {idx + 1}\r\n            </Pagination.Item>\r\n            :\r\n            ''\r\n    ))\r\n\r\n\r\n    return (\r\n        moviesPerPage.length > 0 ?\r\n            <div className=\"d-flex justify-content-center\">\r\n                <Pagination>\r\n\r\n                    {page > 0 ?\r\n                        <>\r\n                            <Pagination.Prev  title={`Go to previous page`} onClick={() => setPage(page - 1)}/>\r\n                            <Pagination.First title={`Go to first page`} onClick={() => setPage(0)}/>\r\n                            <Pagination.Ellipsis disabled/>\r\n                        </>\r\n                        : ''}\r\n                    {paginationBtns}\r\n\r\n                    {(page + 1) !== Math.ceil(movies.length / perPage) ?\r\n                        <>\r\n                            <Pagination.Ellipsis disabled/>\r\n                            <Pagination.Next title={`Go to next page`} onClick={() => setPage(page + 1)}/>\r\n                            <Pagination.Last title={`Go to last page`} onClick={() => setPage(numOfButtons - 1)}/>\r\n                        </>\r\n                        : ''}\r\n\r\n                </Pagination>\r\n            </div> : ''\r\n    );\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport MovieCard from \"./MovieCard\";\r\nimport SinglePlaceholderCard from \"../../ui/SinglePlaceholderCard\";\r\nimport {useLocation} from \"react-router-dom\";\r\nimport SearchPagination from \"../../ui/SearchPagination\";\r\n\r\nexport default function SearchResults(props) {\r\n\r\n\r\n    const movies = props.movies;\r\n    const [page, setPage] = useState(0);\r\n    const [moviesPerPage, setMoviesPerPage] = useState([]);\r\n    const {pathname} = useLocation();\r\n    const perPage = 24\r\n\r\n    useEffect(() => {\r\n        /*slicing movies to show only movies per that page*/\r\n        setMoviesPerPage(movies.slice((page * perPage), (page + 1) * perPage))\r\n        window.scrollTo(0, 0);\r\n\r\n    }, [page, perPage, movies])\r\n\r\n    useEffect(() => {\r\n        setPage(0)\r\n    }, [pathname])\r\n\r\n\r\n    return (\r\n        <div className={'container'} >\r\n\r\n            <h4 className={'text-light ps-2'}>Page {page + 1}</h4>\r\n            <div className=\"row row-cols-2 row-cols-md-4 row-cols-lg-6 g-2 \">\r\n\r\n                {moviesPerPage.length > 0 ?\r\n                    moviesPerPage.map(movie => (\r\n                        <div key={movie.id} className={'px-3'}>\r\n                            <MovieCard movie={movie} class={'search_card col'} search={true}/>\r\n                        </div>\r\n                    )) :\r\n                    Array.from({length: 8}).map((_, idx) => (\r\n                        <div key={idx} className={'search_card col'}><SinglePlaceholderCard/></div>\r\n                    ))\r\n\r\n                }\r\n            </div>\r\n            <SearchPagination\r\n                movies={movies}\r\n                moviesPerPage={moviesPerPage}\r\n                page={page}\r\n                perPage={perPage}\r\n                setPage={setPage}\r\n            />\r\n\r\n\r\n        </div>\r\n    )\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport Hero from \"../components/Hero\";\r\nimport SearchTitle from \"../components/HeroTitles/SearchTitle\";\r\nimport SearchResults from \"../components/movies/SearchResults\";\r\n\r\nexport default function Search() {\r\n\r\n    const search = useParams();\r\n    const [movies, setMovies] = useState([]);\r\n    useEffect(() => {\r\n        setMovies([])\r\n        fetch('/api/search/' + search.field +'/'+search.term)\r\n            .then(response => {\r\n                if (response.status === 200) {\r\n                    return response.json();\r\n                }\r\n            })\r\n            .then(data => {\r\n                setMovies(data.movies)\r\n            })\r\n    }, [search])\r\n\r\n    return (\r\n\r\n        <>\r\n            <Hero title={<SearchTitle searchTerm={search.field +' : '+search.term}/>}/>\r\n            <div className=\"main-bg pb-5\" >\r\n\r\n                <SearchResults movies={movies} />\r\n\r\n\r\n            </div>\r\n            <div className={'main-bg'}/>\r\n\r\n        </>\r\n    );\r\n\r\n}","import React from \"react\";\r\n\r\nexport default function RatingStars(props) {\r\n    const rating = parseInt(props.rating)\r\n    return (\r\n        <>{Array.from({length: 10}).map((_, idx) =>\r\n            (\r\n                idx + 1 <= rating ?\r\n                    <span key={idx} className={'text-warning fs-5'}>&#9733;</span>\r\n                    :\r\n                    <span key={idx} className={'text-light fs-5'}>&#9734;</span>\r\n            ))}\r\n\r\n        </>\r\n    );\r\n}","import React from \"react\";\r\nimport RatingStars from \"../movies/RatingStars\";\r\n\r\nexport default function MovieTitle(props) {\r\n    const movie = props.movie\r\n    return (\r\n        <div className='lighter_bg px-3 rounded-3 opacity-75 py-2'>\r\n            <h1 className={'fw-light'}>{movie.title} ({movie.year})</h1>\r\n            <h4 className=\"text-light\">\r\n\r\n                <RatingStars rating={movie.imdb.rating}/> <br/>\r\n                {movie.imdb.rating}/10\r\n\r\n            </h4>\r\n            <p className='fst-italic'>{movie.plot}</p>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/default_hero.c80c9984.jpg\";","import {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nexport default function SearchLink(props) {\r\n    const field = props.field;\r\n    const array = props.array ? props.array : [];\r\n\r\n    return (\r\n        <>\r\n\r\n            {array.map((item , idx) => (\r\n                <span key={idx}>\r\n                <NavLink\r\n\r\n                    className={'text-info'}\r\n                    to={`/search/${field}/${item}`}>\r\n                    {item}\r\n                </NavLink>\r\n                    {idx+1 === array.length ? '' : ', '}    </span>\r\n            ))}\r\n        </>\r\n    );\r\n\r\n}","import React, {useRef, useState} from \"react\";\r\n\r\nexport default function CommentForm(props) {\r\n    const commentLength = 500;\r\n    const [remaining, setRemaining] = useState(commentLength);\r\n    const [isSending, setIsSending] = useState(false);\r\n    const [isSent, setIsSent] = useState(false);\r\n    const comment = useRef();\r\n\r\n    function onSubmitHandler(e) {\r\n        e.preventDefault();\r\n        const _comment = comment.current.value\r\n        if (_comment.length === 0) {\r\n            alert('Empty comment');\r\n            return;\r\n        }\r\n        fetch('/api/comments/add/',\r\n            {\r\n                method: 'POST',\r\n                body: JSON.stringify({\r\n                    comment: _comment.substring(0, 500),\r\n                    movieId: props.movie_id\r\n                }),\r\n                headers: new Headers({\r\n                    'content-type': 'application/json'\r\n                })\r\n            })\r\n            .then(response => {\r\n                if (response.status === 200) {\r\n                    return response.json()\r\n                }\r\n            })\r\n            .then(data => {\r\n                    if (data.result === 'success') {\r\n                        document.getElementById('new_comment').append(comment.current.value);\r\n                        comment.current.value = ''\r\n                        setIsSending(false);\r\n                        setIsSent(true);\r\n\r\n\r\n                    } else if (data.result === 'error') {\r\n                        alert('Server says: ' + data.message)\r\n                    }\r\n                },\r\n                error => {\r\n                    console.log('error', error.message)\r\n                })\r\n            .catch(err => console.log('error', err))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!isSent ?\r\n                <>\r\n                    <p className=\"lead text-light\">Add your comment <small className={'small'}>({remaining})</small></p>\r\n                    <form action=\"\" onSubmit={onSubmitHandler}>\r\n                <textarea name=\"comment\"\r\n                          id=\"comment\"\r\n                          ref={comment}\r\n                          placeholder={'Your comment...'}\r\n                          maxLength={commentLength}\r\n                          className={'form-control mb-3'}\r\n                          onChange={(e) => setRemaining(commentLength - e.target.value.length)}\r\n                />\r\n                        <button\r\n                            onClick={() => setIsSending(true)}\r\n                            className={'btn btn-outline-info float-end btn-sm'}>\r\n                            {isSending ? 'Sending...' : 'Submit'}\r\n                        </button>\r\n                    </form>\r\n                </>\r\n                :\r\n                <p className={'text-light'}>Thank you for your comment!</p>}\r\n\r\n        </div>\r\n    );\r\n}","import React, {useState} from \"react\";\r\n\r\nexport default function Comment(props) {\r\n    const comment = props.comment;\r\n    const [confirm, setConfirm] = useState(false);\r\n    const [isDeleted, setIsDeleted] = useState(false);\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n\r\n    function deleteCommentHandler() {\r\n        setIsDeleting(true);\r\n        fetch('/api/comments/delete/',\r\n            {\r\n                method: 'POST',\r\n                body: JSON.stringify({commentId: comment.id}),\r\n                headers: new Headers({\r\n                    'content-type': 'application/json'\r\n                })\r\n            })\r\n            .then(response => {\r\n                if (response.status === 200) {\r\n                    return response.json();\r\n                }\r\n            })\r\n            .then(data => {\r\n                    if (data.result === 'success') {\r\n                        setIsDeleting(false);\r\n                        setIsDeleted(true);\r\n                        document.getElementById(comment.id).remove();\r\n                    }\r\n                },\r\n                error => {\r\n                    console.log('error ' + error)\r\n                })\r\n            .catch(error => {\r\n                console.log('error ' + error)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div id={comment.id} className={'border-bottom border-secondary mb-3'}>\r\n            <p className=\"small text-muted p-0 m-0\">{comment.name} - {comment?.date.split('T')[0]}</p>\r\n            <p className={'fst-italic text-light'}>{comment.text}</p>\r\n\r\n            {props.isOwner ? <div className={'text-end'}>\r\n                <button onClick={() => setConfirm(true)} className={'btn btn-sm text-danger p-0 m-0 px-2'}>delete\r\n                </button>\r\n            </div> : ''}\r\n\r\n            {(confirm && !isDeleted) && <div className={'text-center mb-2'}>\r\n                <button className=\"btn btn-sm text-danger\" onClick={() => setConfirm(false)}>Cancel</button>\r\n                <button className=\"btn btn-sm btn-outline-info\" onClick={deleteCommentHandler}>\r\n                    {isDeleting ? 'Deleting...' : 'Yes, delete!' }\r\n                </button>\r\n            </div>}\r\n\r\n            {isDeleted && <p className={'text-light'}>Comment deleted!</p>}\r\n\r\n        </div>\r\n    );\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {NavLink, useParams} from \"react-router-dom\";\r\nimport Hero from \"../components/Hero\";\r\nimport Placeholder from \"react-bootstrap/Placeholder\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport MovieTitle from \"../components/HeroTitles/MovieTitle\";\r\nimport defaultImg from \"../ui/images/default_hero.jpg\";\r\nimport RatingStars from \"../components/movies/RatingStars\";\r\nimport SearchLink from \"../ui/SearchLink\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {auth} from \"../auth/firebase\";\r\nimport CommentForm from \"../components/comments/CommentForm\";\r\nimport Comment from \"../components/comments/Comment\";\r\n\r\n\r\nexport default function Movie() {\r\n\r\n\r\n    const [user] = useAuthState(auth);\r\n    const param = useParams()\r\n    const [movie, setMovie] = useState({})\r\n    const [comments, setComments] = useState([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true)\r\n        fetch('/api/movie/' + param.movieId)\r\n            .then(response => {\r\n                if (response.status === 200) {\r\n                    return response.json()\r\n                }\r\n            })\r\n            .then(data => {\r\n                setMovie(data.movie)\r\n                setComments(data.comments)\r\n                console.log(data.user_email)\r\n\r\n                setIsLoading(false)\r\n            })\r\n    }, [param.movieId])\r\n\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <>\r\n                <Hero title={<h1>Movie:\r\n                    <Placeholder sm={4} as={Card.Img} src={defaultImg} animation={'wave'}/>\r\n                    <Placeholder as={Card.Title} animation=\"wave\">\r\n                        <Placeholder xs={12}/>\r\n                    </Placeholder>\r\n                </h1>}/>\r\n                <div className=\"main-bg \">\r\n\r\n\r\n                </div>\r\n            </>);\r\n    } else {\r\n        return (\r\n            <>\r\n\r\n                <Hero title={<MovieTitle movie={movie}/>} image={movie.poster}/>\r\n                <div className=\"main-bg \">\r\n                    <div className=\"container pt-5 \">\r\n                        <div className=\"card  mb-3 dark_bg text-muted p-4 mt-5 mt-md-0\">\r\n                            <div className=\"row g-0\">\r\n                                <div className=\"col-md-2 text-center\">\r\n                                    <img src={movie.poster || defaultImg}\r\n                                         className=\"img-fluid rounded-start\" alt={movie.title}/>\r\n                                </div>\r\n                                <div className=\"col-md-10\">\r\n                                    <div className=\"card-body p-0 m-0 px-0 px-md-4\">\r\n                                        <h3 className=\"card-title text-light pt-0 mt-5 mt-md-0\">\r\n                                            {movie.title} (<NavLink\r\n                                            className={'text-info'}\r\n                                            to={`/search/year/${movie.year}`}>\r\n                                            {movie.year}\r\n                                        </NavLink>)<>&nbsp;</>\r\n\r\n\r\n                                        </h3>\r\n                                        <p className=\"p-0 m-0 \">\r\n                                            <RatingStars rating={movie.imdb.rating}/> <br/>\r\n                                            <span\r\n                                                className={'x-small'}> {movie.imdb.rating}/10 by {movie.imdb.votes.toLocaleString()} users</span>\r\n                                        </p>\r\n\r\n                                        <p className=\" fst-italic small my-3 \">{movie.fullplot}</p>\r\n\r\n                                        {movie.writers ?\r\n                                            <p className={' small m-0 px-1 py-1 text-light'}>\r\n                                                Writers: <SearchLink field={'writers'} array={movie.writers}/></p> : ''}\r\n\r\n                                        {movie.directors ?\r\n                                            <p className={' small m-0 px-1 py-1 text-light'}>Directors: <SearchLink\r\n                                                field={'directors'} array={movie.directors}/></p> : ''}\r\n\r\n                                        {movie.released ? <p className={'lighter_bg small m-0 px-1 py-1 text-light'}>\r\n                                            Released: {movie.released.toLocaleString().split('00:00:00 GMT')[0]}</p> : ''}\r\n\r\n                                        <p className={' small m-0 px-1 py-1 text-light'}>Runtime: {movie.runtime} min</p>\r\n\r\n                                        <p className={'lighter_bg small m-0 px-1 py-1 text-light'}>Genres: <SearchLink\r\n                                            field={'genres'} array={movie.genres}/>\r\n                                        </p>\r\n\r\n                                        <p className={' small m-0 px-1 py-1 text-light'}>Stars: <SearchLink\r\n                                            field={'cast'} array={movie.cast}/>\r\n                                        </p>\r\n\r\n                                        {movie.tomatoes ?\r\n                                            <>\r\n                                                <p className={'lighter_bg small m-0 px-1 py-1 text-light'}>\r\n                                                    Production: <NavLink\r\n                                                    className={'text-info'}\r\n                                                    to={`/search/production/${movie.tomatoes.production}`}>\r\n                                                    {movie.tomatoes.production}\r\n                                                </NavLink>\r\n                                                    <a className={'float-end pe-1 text-muted text-decoration-none'}\r\n                                                       rel=\"noreferrer\"\r\n                                                       target={'_blank'} href={movie.tomatoes.website}>website</a>\r\n                                                </p>\r\n                                                <p className={' small m-0 px-1 py-1 text-light'}>Consensus: {movie.tomatoes.consensus}</p>\r\n                                                <p className={'lighter_bg small m-0 px-1 py-1 text-light'}>Box\r\n                                                    office: {movie.tomatoes.boxOffice}</p>\r\n                                            </>\r\n                                            : ''}\r\n\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card dark_bg mt-5 p-4 \">\r\n                            <h4 className={'text-light'}>Comments ({comments.length})</h4>\r\n\r\n                            {user && <CommentForm movie_id={movie.id} addComment={setComments} />}\r\n                            {!user && <NavLink\r\n                                to={'/login/?next=/movie/' + movie.id}\r\n\r\n                                className='login_btn  btn  text-info mb-3 small mb-2 mb-sm-0'\r\n                            >\r\n                                Sign in to add a comment\r\n                            </NavLink>}\r\n\r\n                            <div className=\"comments\">\r\n                                <p id=\"new_comment\" className={'text-light fst-italic'}/>\r\n\r\n                                {comments.map((comment, idx) => (\r\n                                    <Comment key={idx} comment={comment} isOwner={user && comment.email === user.email}/>\r\n                                ))}\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </>);\r\n    }\r\n\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {Link, useNavigate} from \"react-router-dom\";\r\nimport {auth, signInWithEmailAndPassword, signInWithGoogle} from \"./firebase\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\n\r\nfunction Login() {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [user, loading, error] = useAuthState(auth);\r\n    const navigate = useNavigate();\r\n\r\n    let redirectTo = (new URLSearchParams(window.location.search)).get(\"next\")\r\n\r\n    useEffect(() => {\r\n\r\n        if (loading) {\r\n            // maybe trigger a loading screen\r\n            return;\r\n        }\r\n        if (user) navigate(redirectTo || '/dashboard');\r\n    }, [user, loading, error, navigate, redirectTo]);\r\n    return (\r\n        <div className=\"container\">\r\n            <h4 className='text-cLoginenter my-5'>Login</h4>\r\n            <div className='row row-cols-1'>\r\n                <div className=\"col-md-6 mx-auto\">\r\n                    <div className=\"form-floating\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className='form-control auth'\r\n                            value={email}\r\n                            id='email'\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            placeholder=\"E-mail Address\"\r\n                        />\r\n                        <label htmlFor=\"email\">Email</label>\r\n                    </div>\r\n                    <div className=\"form-floating my-3\">\r\n                        <input\r\n                            type=\"password\"\r\n                            className='form-control auth'\r\n                            value={password}\r\n                            id='password'\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            placeholder=\"Password\"\r\n                        />\r\n                        <label htmlFor=\"password\">Password</label>\r\n                    </div>\r\n\r\n                    <button\r\n                        className='btn btn-outline-dark w-100 mb-3'\r\n                        onClick={() => signInWithEmailAndPassword(email, password)}\r\n                    >\r\n                        Login\r\n                    </button>\r\n                    <button className='btn btn-primary w-100 mb-3' onClick={signInWithGoogle}>\r\n                        Login with Google\r\n                    </button>\r\n                    <div>\r\n                        <Link to=\"/reset\">Forgot Password</Link>\r\n                    </div>\r\n                    <div>\r\n                        Don't have an account? <Link to=\"/register\">Register</Link> now.\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import React, {useEffect, useState} from \"react\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {useNavigate} from \"react-router\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {auth, sendPasswordResetEmail} from \"./firebase\";\r\nimport \"./Reset.module.css\";\r\n\r\nfunction Reset() {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [user, loading, error] = useAuthState(auth);\r\n    const navigate = useNavigate();\r\n    useEffect(() => {\r\n        if (loading) return;\r\n        if (user) navigate(\"/dashboard\");\r\n    }, [user, loading, error, navigate]);\r\n    return (\r\n        <div className=\"container\">\r\n            <h4 className='text-center my-5'>Reset password</h4>\r\n            <div className='row row-cols-1'>\r\n                <div className=\"col-md-6 mx-auto\">\r\n                    <div className=\"form-floating mb-3\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control auth\"\r\n                            id='email'\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            placeholder=\"E-mail Address\"\r\n                        />\r\n                        <label htmlFor=\"email\">Email</label>\r\n                    </div>\r\n\r\n                    <button\r\n                        className=\"btn btn-secondary w-100\"\r\n                        onClick={() => sendPasswordResetEmail(email)}\r\n                    >\r\n                        Send password reset email\r\n                    </button>\r\n                    <div>\r\n                        Don't have an account? <Link to=\"/register\">Register</Link> now.\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Reset;","import React, {useEffect, useState} from \"react\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {Link, useNavigate} from \"react-router-dom\";\r\nimport {auth, registerWithEmailAndPassword, signInWithGoogle,} from \"./firebase\";\r\nimport \"./Register.module.css\";\r\n\r\nfunction Register() {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [user, loading, error] = useAuthState(auth);\r\n    const navigate = useNavigate();\r\n    const register = () => {\r\n        if (!name) alert(\"Please enter name\");\r\n        registerWithEmailAndPassword(name, email, password);\r\n    };\r\n    useEffect(() => {\r\n        if (loading) return;\r\n        if (user) navigate(\"/dashboard\");\r\n    }, [user, loading, error, navigate]);\r\n    return (\r\n         <div className=\"container\">\r\n            <h4 className='text-center my-5'>Register</h4>\r\n            <div className='row row-cols-1'>\r\n                <div className=\"col-md-6 mx-auto\">\r\n                    <div className=\"form-floating mb-3\">\r\n                         <input\r\n                    type=\"text\"\r\n                    id='name'\r\n                    className=\"form-control auth\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    placeholder=\"Full Name\"\r\n                />\r\n                        <label htmlFor=\"name\">Name</label>\r\n                    </div>\r\n                <div className=\"form-floating mb-3\">\r\n                    <input\r\n                    type=\"text\"\r\n                    className=\"form-control auth\"\r\n                    id={'email'}\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder=\"E-mail Address\"\r\n                />\r\n                    <label htmlFor=\"email\">Email</label>\r\n                </div>\r\n                <div className=\"form-floating mb-3\">\r\n                    <input\r\n                    type=\"password\"\r\n                    className=\"form-control auth\"\r\n                    id='password'\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder=\"Password\"\r\n                />\r\n                    <label htmlFor=\"password\">Password</label>\r\n                </div>\r\n\r\n                <button className=\"btn btn-outline-dark w-100 mb-3\" onClick={register}>\r\n                    Register\r\n                </button>\r\n                <button\r\n                    className=\"btn btn-primary w-100 mb-3\"\r\n                    onClick={signInWithGoogle}\r\n                >\r\n                    Register with Google\r\n                </button>\r\n                <div>\r\n                    Already have an account? <Link to=\"/login\">Login</Link> now.\r\n                </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;","import {createContext, useState} from \"react\";\r\n\r\nconst BookingContext = createContext({\r\n    numOfBookings: 0,\r\n    bookings: [],\r\n    addBooking: (booking) => {\r\n    },\r\n})\r\n\r\nexport function BookingContextProvider(props) {\r\n\r\n    const [bookings, setBooking] = useState([]);\r\n\r\n    function addBookingHandler(booking) {\r\n\r\n        setBooking((prevBookings) => {\r\n            return prevBookings.concat(booking);\r\n        })\r\n\r\n    }\r\n\r\n    const context = {\r\n        numOfBookings: bookings.length,\r\n        bookings: bookings,\r\n        addBooking: addBookingHandler\r\n    }\r\n\r\n    return (\r\n        <BookingContext.Provider value={context}>\r\n            {props.children}\r\n        </BookingContext.Provider>\r\n    );\r\n\r\n}\r\n\r\nexport default BookingContext;","import React from \"react\";\r\n\r\nexport default function TheaterInfo(props) {\r\n\r\n    const theater = props.theater\r\n\r\n    function InfoLine(props) {\r\n        const lineClass = props.class === 'lead' ? 'lead p-0 m-0':'small p-0 m-0'\r\n        return (\r\n            <p className={lineClass}>{props.text}</p>\r\n\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <InfoLine text={theater.location.address.city} class={'lead'}/>\r\n            <InfoLine text={theater.location.address.state}/>\r\n            <InfoLine text={theater.location.address.street1}/>\r\n            <InfoLine text={theater.location.address.zipcode}/>\r\n            <InfoLine text={'Lat ' + theater.location.geo.coordinates[1] +\r\n            ', Lng ' + theater.location.geo.coordinates[0]}/>\r\n\r\n        </>\r\n    );\r\n\r\n}","import React from \"react\";\r\nimport TheaterInfo from \"../theatres/TheaterInfo\";\r\n\r\nexport default function MyBookings(props) {\r\n    const bookings = props.bookings;\r\n\r\n    return (\r\n\r\n\r\n        bookings.map((booking, idx) =>\r\n            (\r\n                <div className={'col-12 small border shadow mb-3 p-2'} key={idx}>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-2 \"><img className={'img-thumbnail'} src={booking.poster} alt=\"\"/></div>\r\n                        <div className=\"col\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-md-7\">\r\n                                   <p className=\"p-0 m-0 fw-bold fst-italic\">Title: {booking.title}</p>\r\n                                     <p className=\"p-0 m-0 fw-bold fst-italic\">{booking.day} at {booking.time}</p>\r\n                                    <hr/>\r\n                                     <p className=\"p-0 m-0 \">Booked by: {booking.bookingName} | {booking.bookingEmail}</p>\r\n                                     <p className=\"p-0 m-0 \">Adults: {booking.adults}</p>\r\n                                     <p className=\"p-0 m-0 \">Children: {booking.children}</p>\r\n\r\n                                     <p className=\"p-0 m-0 \">Price: ${booking.totalPrice}</p>\r\n                                </div>\r\n                                <div className=\"col-md-5 \">\r\n                                   <p>Address</p>\r\n                                    <TheaterInfo theater={booking.theater}/>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            ))\r\n\r\n\r\n    );\r\n}","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport \"./Dashboard.module.css\";\r\nimport {auth, logout} from \"../auth/firebase\";\r\nimport BookingContext from \"../store/booking-context\";\r\nimport MyBookings from \"../components/dashboard/MyBookings\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nfunction Dashboard() {\r\n    const bookingCtx = useContext(BookingContext);\r\n\r\n    const [user, loading, error] = useAuthState(auth);\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const navigate = useNavigate();\r\n\r\n\r\n    useEffect(() => {\r\n        if (loading) return;\r\n        if (!user) return navigate(\"/login\");\r\n        fetch('/api/user/get/' + user?.uid + '/')\r\n            .then(response => {\r\n                if (response.status === 200) {\r\n                    return response.json()\r\n                }\r\n            }).then(data => {\r\n            setName(data.name)\r\n            setEmail(data.email)\r\n\r\n        }).catch(error => {\r\n            alert('error: ' + error)\r\n        })\r\n\r\n\r\n    }, [user, loading, error, navigate]);\r\n\r\n    return (\r\n        <div className=\"dashboard\">\r\n            <div className=\"container\">\r\n                <h4 className='text-center'>Your Bookings</h4>\r\n\r\n                <p className={'fst-italic small'}>Logged in as {user?.name || name} | {user?.email || email}\r\n                    <span className=\"pointer float-end text-primary\" onClick={logout}>\r\n                        Logout\r\n                    </span>\r\n                </p>\r\n                <div className=\"row\">\r\n                    {bookingCtx.numOfBookings > 0 ?\r\n                        <MyBookings bookings={bookingCtx.bookings}/> :\r\n                        <p className=\"lead text-center\">No bookings yet!\r\n                        <br/> <Link className={'text-decoration-none'} to={'/theatres'}>Visit theatres page</Link> to find theatres near you.</p>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Dashboard;","import React from \"react\";\r\n\r\nexport default function TheatersTitle() {\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1 className={'fw-light'}>Find theater near you!</h1>\r\n            <h4 className=\"text-light\">\r\n                Click on the marker to see theater info and currently showing movies.\r\n            </h4>\r\n\r\n        </>\r\n    );\r\n}","import {Popup} from \"react-leaflet\";\r\nimport React, {useState} from \"react\";\r\nimport TheaterInfo from \"./TheaterInfo\";\r\n\r\nexport default function TheaterPopup(props) {\r\n    const theater = props.theater\r\n    const [isLoading, setIsLoading] = useState(false)\r\n\r\n    function onClickHandler(e) {\r\n        setIsLoading(true)\r\n        props.onclick()\r\n        props.setTheaterId(e.target.dataset.id)\r\n\r\n    }\r\n\r\n    /*reverse the text on the button back to On-the-air from Loading...*/\r\n    window.addEventListener('scroll', () => setIsLoading(false))\r\n\r\n    return (\r\n        <Popup>\r\n\r\n            <div className={'lighter_bg p-2 rounded-3 text-light'}>\r\n                <TheaterInfo theater={theater}/>\r\n                <button className={'mt-auto btn btn-sm btn-info p-0 m-0 w-100 mb-2 text-dark'}\r\n                        data-id={theater._id}\r\n                        onClick={onClickHandler}>\r\n                    {isLoading ? 'Loading...' : ' On-the-air'}\r\n                </button>\r\n            </div>\r\n        </Popup>\r\n    );\r\n}","import Hero from \"../Hero\";\r\nimport TheatersTitle from \"../HeroTitles/TheatersTitle\";\r\nimport {MapContainer, Marker, TileLayer} from \"react-leaflet\";\r\nimport React from \"react\";\r\nimport TheaterPopup from \"./TheaterPopup\";\r\n\r\nexport default function TheatresMap(props) {\r\n\r\n    const markers = props.markers\r\n\r\n    return (\r\n        <>\r\n            <Hero title={<TheatersTitle/>}/>\r\n            <div className={'lighter_bg'}>\r\n\r\n\r\n                <div className=\"row g-0 py-5\">\r\n                    {markers ? <p className={'text-center lead text-light'}>\r\n                            {'Click on the marker to see the theater details'}\r\n                            <br/> Displaying {markers.length} results.</p> :\r\n                        <p className={'text-center lead text-light'}>\r\n                            {'Loading theatres...'}\r\n                        </p>}\r\n\r\n                    <div className=\"col-12 col-lg-9 mx-lg-auto \">\r\n                        <MapContainer style={{height: 400}}\r\n\r\n                                      center={[37, -95]}\r\n                                      zoom={4}\r\n                                      scrollWheelZoom={false}\r\n                        >\r\n                            <TileLayer\r\n                                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                                attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                            />\r\n                            {markers ?\r\n                                markers.map(theater => (\r\n                                    <Marker\r\n                                        key={theater._id}\r\n                                        position={[theater.location.geo.coordinates[1], theater.location.geo.coordinates[0]]}\r\n                                    >\r\n                                        <TheaterPopup theater={theater}\r\n                                                      onclick={props.onclick}\r\n                                                      setTheaterId={props.setTheaterId}/>\r\n                                    </Marker>\r\n                                ))\r\n                                : ''}\r\n                        </MapContainer>\r\n                    </div>\r\n                </div>\r\n\r\n                 {props.onTheAir}\r\n\r\n            </div>\r\n        </>\r\n    );\r\n\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport TheatresMap from \"../components/theatres/TheatresMap\";\r\nimport MovieScroller from \"../components/movies/MovieScroller\";\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nexport default function Theatres(props) {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [markers, setMarkers] = useState([]);\r\n    const [isClicked, setIsClicked] = useState(false)\r\n    const [onTheAir, setOnTheAir] = useState([])\r\n    const [theaterId, setTheaterId] = useState('')\r\n    const [theaterMovies, setTheaterMovies] = useState('')\r\n    let tempMovies = ''\r\n\r\n\r\n    function showOnTheAir() {\r\n        setIsClicked(true)\r\n\r\n        fetch('/api/on-the-air/')\r\n            .then(response => {\r\n                if (response.status === 200) {\r\n                    return response.json();\r\n                }\r\n            })\r\n            .then(data => {\r\n                    setOnTheAir(data.movies);\r\n                    data.movies.map(movie => (\r\n                        tempMovies += movie.id + ','\r\n                    ))\r\n                    setTheaterMovies(tempMovies)\r\n\r\n                    document.querySelector('.scroller_title').scrollIntoView();\r\n                    document.querySelector('nav.navbar').classList.remove('sticky-top');\r\n                }\r\n                ,\r\n                error => {\r\n                    console.log('error ' + error.message)\r\n                })\r\n            .catch(error => {\r\n                console.log('error ' + error.message)\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        fetch('/api/theater/all/')\r\n            .then(response => {\r\n                if (response.status === 200) return response.json()\r\n            }).then(data => {\r\n            setMarkers(data.theaters)\r\n\r\n            setIsLoading(false)\r\n        }, error => {\r\n            console.log('error: ' + error)\r\n        })\r\n    }, [])\r\n\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <>\r\n                <TheatresMap/>\r\n            </>)\r\n    } else {\r\n        return (\r\n            <>\r\n\r\n                <TheatresMap\r\n                    markers={markers}\r\n                    onclick={showOnTheAir}\r\n                    setTheaterId={setTheaterId}\r\n                    onTheAir={(onTheAir && isClicked) &&\r\n                    <>\r\n                        <MovieScroller movies={onTheAir}\r\n                                       title={'Currently showing'}\r\n                                       link={`/theater/${theaterId}?movies=${theaterMovies}`} id={'on_the_air'}/>\r\n                        <p className=\" text-light text-center \" style={{marginTop:'-50px'}}>\r\n                            <Link\r\n                                to={`/theater/${theaterId}?movies=${theaterMovies}`}\r\n                                className={'text-decoration-none btn btn-outline-info mb-5'}>BOOK NOW</Link>\r\n                        </p>\r\n                    </>}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport TheaterInfo from \"../theatres/TheaterInfo\";\r\n\r\nexport default function TheaterTitle(props) {\r\n\r\n    return (\r\n        <TheaterInfo theater={props.theater}/>\r\n    );\r\n}","import React from \"react\";\r\n\r\nexport default function Days(props) {\r\n    const day = props.day;\r\n\r\n    return (\r\n        <select className={'form-select mx-2'} name=\"days\" id=\"days\"\r\n                onChange={(e) => props.setDay(e.target.value)}>\r\n            <option defaultValue=\"select time\">{day ? day : 'Select day'}</option>\r\n            {Array.from({length: 30}).map((_, idx) => {\r\n                let dt = new Date();\r\n                dt.setTime(dt.getTime() + ((idx + 1) * 24 * 60 * 60 * 1000));\r\n                dt.setHours(0, 0, 0, 0);\r\n\r\n                let _day = dt.toDateString().split('00:00:00')[0]\r\n                return <option key={idx} value={_day}>{_day}</option>\r\n\r\n            })}\r\n        </select>\r\n    );\r\n}","import React from \"react\";\r\n\r\nexport default function Times(props) {\r\n    const time = props.time;\r\n    return (<select name=\"time\" id=\"time\"\r\n                    className={'form-select mx-2'}\r\n                    onChange={(e) => props.setTime(e.target.value)}>\r\n\r\n        <option defaultValue=\"select\">{time ? time : 'Select time'}</option>\r\n        {Array.from({length: 24}).map((_, idx) =>\r\n            (\r\n                (idx % 2 === 0 && idx !== 0) ?\r\n\r\n                    <option key={idx}\r\n                            value={(idx + '.00') + (idx > 12 ? ' pm' : ' am')}>\r\n                        {idx}.00 {idx > 12 ? ' pm' : ' am'}\r\n                    </option>\r\n                    : ''\r\n\r\n            )\r\n        )\r\n        }\r\n    </select>);\r\n}","import TheaterInfo from \"../TheaterInfo\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport default function BookingConfirmed(props) {\r\n    const booking = props.booking;\r\n    return (\r\n        <div>\r\n            <div className={' text-center bg-warning p-2 mb-0'}>\r\n                <p className=\"lead fw-bold\">Booking Confirmed!</p>\r\n                <p className={'small'}>\r\n                    Thank you, {booking.bookingName}. <br/>\r\n                    You would receive a confirmation email to: <br/> {booking.bookingEmail} <br/>\r\n                    You can check your booking in the <NavLink\r\n                    className=''\r\n                    to={'/dashboard'}>\r\n                    Dashboard\r\n                </NavLink>\r\n                </p>\r\n\r\n            </div>\r\n            <div className={'dark_bg text-light p-2 text-end border border-warning mt-0'}>\r\n                <TheaterInfo theater={booking.theater}/>\r\n            </div>\r\n\r\n            <p className=\"small p-2 lighter_bg text-light border border-warning\">\r\n\r\n\r\n                Title: {booking.title} <br/>\r\n                Adults: {booking.adults} <br/>\r\n                Children: {booking.children} <br/>\r\n                Total: ${booking.totalPrice} <br/>\r\n                Day: {booking.day} <br/>\r\n                Time: {booking.time}\r\n            </p>\r\n        </div>\r\n    );\r\n}","import Placeholder from \"react-bootstrap/Placeholder\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport React, {useState} from \"react\";\r\n\r\nexport default function BookingInProcess() {\r\n\r\n    const [changeText1, setChangeText1] = useState(false);\r\n    const [changeText2, setChangeText2] = useState(false);\r\n\r\n    function setChangeTextHandler1() {\r\n        setChangeText1(true);\r\n\r\n    }\r\n    function setChangeTextHandler2() {\r\n        setChangeText2(true);\r\n\r\n    }\r\n\r\n    setTimeout(setChangeTextHandler1, 2000)\r\n    setTimeout(setChangeTextHandler2, 4000)\r\n    return (\r\n        <>\r\n            <p>\r\n                {!changeText1 ? 'Booking in process...' : !changeText2 ? 'Checking availability...' : 'Almost there...'}\r\n\r\n            </p>\r\n            <Placeholder as={Card.Title} animation=\"glow\">\r\n                <Placeholder xs={12} size={'xc'} bg={'warning'}/>\r\n            </Placeholder>\r\n        </>\r\n    );\r\n}","import React from \"react\";\r\n\r\nexport const requiredFields = ['totalPrice', 'day', 'time', 'adults', 'bookingName', 'bookingEmail']\r\nexport const messages = {\r\n    'totalPrice': 'Select at least one adult.',\r\n    'day': 'Select the day.',\r\n    'time': 'Select the time.',\r\n    'adults': 'Select least one adult.',\r\n    'bookingName': 'Please, provide your name.',\r\n    'bookingEmail': 'Please provide your email.'\r\n}\r\nexport default function FormError(props) {\r\n    const booking = props.booking;\r\n\r\n    const errors = requiredFields.map((field, idx) =>\r\n        (\r\n            !booking[field] ? <p key={idx} className={'text-danger p-0 m-0 x-small'}>{messages[field]}</p> : ''\r\n        ))\r\n    return (errors);\r\n}","import React, {useContext, useState} from 'react';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport classes from './BookingForm.module.css';\r\nimport Days from \"./BookingForm/Days\";\r\nimport Times from \"./BookingForm/Times\";\r\nimport BookingConfirmed from \"./BookingForm/BookingConfirmed\";\r\nimport BookingInProcess from \"./BookingForm/BookingInProcess\";\r\nimport FormError, {requiredFields} from \"./BookingForm/FormError\";\r\nimport BookingContext from \"../../store/booking-context\";\r\n\r\nexport default function BookingForm(props) {\r\n    const bookingCtx = useContext(BookingContext);\r\n    const movie = props.movie;\r\n    const [show, setShow] = useState(false);\r\n    const [time, setTime] = useState('')\r\n    const [day, setDay] = useState('')\r\n    const [adults, setAdults] = useState(0);\r\n    const [children, setChildren] = useState(0);\r\n    const [adultPrice, setAdultPrice] = useState(0);\r\n    const [childrenPrice, setChildrenPrice] = useState(0);\r\n    const [isBooking, setIsBooking] = useState(false);\r\n    const [isBooked, setIsBooked] = useState(false);\r\n    const [bookingName, setBookingName] = useState('');\r\n    const [bookingEmail, setBookingEmail] = useState('');\r\n    const [bookingError, setBookingError] = useState(false);\r\n    const pricePerAdult = 15;\r\n    const pricePerChild = 10;\r\n    const booking = {\r\n        totalPrice: adultPrice + childrenPrice,\r\n        day: day,\r\n        time: time,\r\n        adults: adults,\r\n        children: children,\r\n        title: movie.title,\r\n        movieId: movie.id,\r\n        poster: movie.poster,\r\n        theater: props.theater,\r\n        bookingName: bookingName,\r\n        bookingEmail: bookingEmail\r\n    }\r\n\r\n    let _error = false;\r\n\r\n    function bookNow() {\r\n\r\n        requiredFields.map(field => {\r\n            if (!booking[field]) {\r\n                _error = true;\r\n\r\n            }\r\n            return _error\r\n        })\r\n\r\n        if (_error) {\r\n            setBookingError(true);\r\n        } else {\r\n            setBookingError(false)\r\n            setIsBooking(true)\r\n            bookingCtx.addBooking(booking);\r\n\r\n\r\n            function setIsBookedHandler() {\r\n                setIsBooked(true);\r\n                setIsBooking(false);\r\n\r\n            }\r\n\r\n            setTimeout(setIsBookedHandler, 6000)\r\n        }\r\n\r\n\r\n    }\r\n\r\n    function setAdultPriceHandler(e) {\r\n\r\n        setAdults((prev) => (\r\n            prev + parseInt(e.target.dataset.action) < 0 ? 0 : prev + parseInt(e.target.dataset.action)\r\n        ))\r\n        setAdultPrice((prev) => (\r\n            prev + parseInt(e.target.dataset.action) * pricePerAdult < 0 ? 0 : prev + parseInt(e.target.dataset.action) * pricePerAdult\r\n        ))\r\n\r\n\r\n    }\r\n\r\n    function setChildrenPriceHandler(e) {\r\n        setChildren((prev) => (\r\n            prev + parseInt(e.target.dataset.action) < 0 ? 0 : prev + parseInt(e.target.dataset.action)\r\n        ))\r\n        setChildrenPrice((prev) => (\r\n            prev + parseInt(e.target.dataset.action) * pricePerChild < 0 ? 0 : prev + parseInt(e.target.dataset.action) * pricePerChild\r\n        ))\r\n\r\n\r\n    }\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const btnClass = 'ms-3 px-3 btn btn-warning text-dark p-0 m-0 mb-2 pointer rounded-0'\r\n\r\n    return (<>\r\n        <Button className={btnClass}\r\n                variant=\"warning\" onClick={handleShow}>\r\n            Book Now\r\n        </Button>\r\n\r\n        <Modal show={show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>{movie.title} </Modal.Title>\r\n\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                {(!isBooking && !isBooked) &&\r\n                <>\r\n                    <p className={'text-center small fw-bold fst-italic'}>Adults : ({pricePerAdult}$/person), Children\r\n                        (under 12):\r\n                        ({pricePerChild}$/child)</p>\r\n                    {bookingError && <FormError booking={booking}/>}\r\n\r\n                    <div className={' d-flex justify-content-around align-items-center mb-2'}>\r\n                        <Days day={day} setDay={setDay}/>\r\n                        <Times time={time} setTime={setTime}/>\r\n\r\n                    </div>\r\n\r\n                    <div className={' d-flex justify-content-around align-items-center'}>\r\n                        <div className={'mx-2 text-center form-control'}>\r\n                            <p>Adults {adults}</p>\r\n                            <div>\r\n                                <button className={'btn btn-sm me-3 ' + classes.add_btn}\r\n                                        onClick={setAdultPriceHandler}\r\n                                        data-action={-1}\r\n                                >-\r\n                                </button>\r\n                                <button onClick={setAdultPriceHandler}\r\n                                        data-action={1}\r\n                                        className={'btn btn-sm me-3 ' + classes.add_btn}>+\r\n                                </button>\r\n                                <span className={'float-end'}>${adultPrice}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className={'mx-2 text-center form-control'}>\r\n                            <p>Children {children}</p>\r\n                            <div>\r\n                                <button className={'btn btn-sm me-3 ' + classes.add_btn}\r\n                                        onClick={setChildrenPriceHandler}\r\n                                        data-action={-1}\r\n                                >-\r\n                                </button>\r\n                                <button className={'btn btn-sm me-3 ' + classes.add_btn}\r\n                                        onClick={setChildrenPriceHandler}\r\n                                        data-action={1}>+\r\n                                </button>\r\n                                <span className={'float-end'}>${childrenPrice}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <p className={'text-end'}>Total: <span>${adultPrice + childrenPrice} </span></p>\r\n                    <div className={'px-2'}>\r\n                        <div className=\"form-floating\">\r\n                            <input type=\"text\" className={'form-control booking'} name={'bookingName'}\r\n                                   id={'bookingName'}\r\n                                   onChange={(e) => setBookingName(e.target.value)}/>\r\n                            <label htmlFor=\"bookingName\">Full name</label>\r\n                        </div>\r\n                        <div className=\"form-floating\">\r\n                            <input type=\"text\" className={'form-control booking'} name={'bookingEmail'}\r\n                                   id={'bookingEmail'}\r\n                                   onChange={(e) => e.target.value.includes('@') ? setBookingEmail(e.target.value) : null}/>\r\n                            <label htmlFor=\"bookingEmail\">Email</label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <p className=\"x-small text-center fw-bold fst-italic\">This is a demo app. You can enter any name or\r\n                        email containing \"@\".</p>\r\n                </>}\r\n                {isBooking && <BookingInProcess/>}\r\n                {(isBooked) && <BookingConfirmed booking={booking}/>}\r\n\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                {!isBooking ? <Button variant=\"secondary\"\r\n                                      className={'ms-3 px-3 btn bg-transparent border-0 text-dark py-1 m-0 mb-2 pointer rounded-0'}\r\n                                      onClick={handleClose}>\r\n                    Close\r\n                </Button> : ''}\r\n\r\n                {!isBooked && !isBooking ? <Button variant=\"warning\" className={btnClass} onClick={bookNow}>\r\n                    Book Now\r\n                </Button> : ''}\r\n\r\n            </Modal.Footer>\r\n\r\n        </Modal>\r\n    </>);\r\n}","import React from \"react\";\r\nimport defaultImg from '../../ui/images/placeholder_img.jpg'\r\nimport RatingStars from \"../movies/RatingStars\";\r\nimport BookingForm from \"./BookingForm\";\r\n\r\nexport default function TheaterMovie(props) {\r\n\r\n    const movie = props.movie;\r\n    const theater = props.theater;\r\n    return (\r\n        <div className=\"row mb-3 shadow p-3 dark_bg theater_movie\">\r\n            <div className=\"col-2\">\r\n                <img className={'img-thumbnail'}\r\n                     src={movie.poster ? movie.poster : defaultImg} alt=\"\"/>\r\n            </div>\r\n            <div className=\"col\">\r\n\r\n                <p className={'lighter_bg small m-0 ps-1 py-1 text-light'}>\r\n                    Title: {movie.title} <br/>\r\n                    <RatingStars rating={movie.imdb.rating}/> <br/>\r\n                    {movie.imdb.rating}/10\r\n\r\n                    <BookingForm movie={movie} theater={theater}/>\r\n                    {/*<span className={'float-end btn btn-warning text-dark p-0 m-0 mb-2 pointer rounded-0'}>Book Now</span>*/}\r\n                </p>\r\n\r\n                <p className={' small m-0 px-1 py-1 text-light'}>\r\n                    Plot: {movie.plot}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport Hero from \"../components/Hero\";\r\nimport TheaterTitle from \"../components/HeroTitles/TheaterTitle\";\r\nimport TheaterMovie from \"../components/theatres/TheaterMovie\";\r\n\r\nexport default function Theater() {\r\n    const params = useParams();\r\n    const theaterId = params.theaterId;\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [theater, setTheater] = useState({})\r\n    const movieIds =  (new URL(document.location)).searchParams.get('movies');\r\n    const [movies, setMovies] = useState([])\r\n\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true)\r\n        fetch(`/api/theater/${theaterId}/${movieIds}/`)\r\n            .then(response => {\r\n                if (response.status === 200) {\r\n                    return response.json()\r\n                }\r\n                else{\r\n                    alert('error')\r\n                }\r\n            })\r\n            .then(data => {\r\n\r\n                setTheater(data.theater);\r\n                setMovies(data.movies);\r\n                setIsLoading(false);\r\n\r\n            },\r\n                error=>{\r\n                alert('error'+error.message)\r\n                })\r\n            .catch(error => {\r\n                alert('error'+error)\r\n            })\r\n    }, [theaterId, movieIds])\r\n    return (\r\n        isLoading ? <>\r\n                <Hero title={<p className=\"lead\">Loading...</p>}/>\r\n\r\n            </> :\r\n            <>\r\n                <Hero title={\r\n                    <>\r\n                        <h4 className={'text-light'}>Book your tickets for the theater at:</h4>\r\n                        <TheaterTitle theater={theater}/>\r\n                    </>}/>\r\n\r\n                <div className=\"main-bg \">\r\n                    <div className=\"container p-5 text-light\">\r\n\r\n                        {movies.map(movie=>(<TheaterMovie key={movie.id} movie={movie} theater={theater}/>))}\r\n                    </div>\r\n                </div>\r\n            </>\r\n    );\r\n}","import './App.css';\nimport React, {useEffect, useState} from 'react';\nimport Layout from \"./ui/Layout\";\nimport {Route, Routes} from 'react-router-dom';\nimport Landing from \"./pages/Landing\";\nimport Search from \"./pages/Search\";\nimport Movie from \"./pages/Movie\";\nimport Login from \"./auth/Login\";\nimport Reset from \"./auth/Reset\";\nimport Register from \"./auth/Register\";\nimport Dashboard from \"./pages/Dashboard\";\nimport Theatres from \"./pages/Theatres\";\nimport Theater from \"./pages/Theater\";\nimport {BookingContextProvider} from \"./store/booking-context\";\n\nfunction App() {\n\n    const [movies, setMovies] = useState([]);\n    const [groupedMovies, setGroupedMovies] = useState([]);\n    const [genres, setGenres] = useState([])\n    useEffect(() => {\n        fetch('/api/')\n            .then(response => {\n                if (response.status === 200) {\n                    return response.json()\n                }\n            })\n            .then(data => {\n                setGenres(data.genres)\n                setMovies(data.movies)\n                setGroupedMovies(data.all_grouped)\n\n\n            })\n    }, [])\n\n\n    return (\n        <BookingContextProvider>\n            <Layout genres={genres}>\n\n                <Routes>\n                    <Route path={'/'} element={<Landing movies={movies} groupedMovies={groupedMovies}/>}/>\n                    <Route path={`/search/:field/:term`} element={<Search/>}/>\n                    <Route path={`/movie/:movieId`} element={<Movie/>}/>\n                    <Route path=\"/login\" element={<Login/>}/>\n                    <Route path=\"/register\" element={<Register/>}/>\n                    <Route path=\"/reset\" element={<Reset/>}/>\n                    <Route path=\"/theatres\" element={<Theatres/>}/>\n                    <Route path={`/theater/:theaterId`} element={\n\n                        <Theater/>\n\n                    }/>\n                    <Route path=\"/dashboard\"\n                           element={\n\n                               <Dashboard/>\n                           }/>\n\n                </Routes>\n\n\n            </Layout>\n        </BookingContextProvider>\n    );\n}\n\nexport default App;\n","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport {BrowserRouter} from \"react-router-dom\";\nimport ScrollToTop from \"./ui/ScrollToTop\";\n\nReactDOM.render(\n    <BrowserRouter>\n        <React.StrictMode>\n            <ScrollToTop/>\n            <App/>\n        </React.StrictMode>\n    </BrowserRouter>\n\n    ,\n    document.getElementById('root')\n);\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time_slot\":\"BookingForm_time_slot__2ujG3\",\"add_btn\":\"BookingForm_add_btn__1kVs-\"};"],"sourceRoot":""}